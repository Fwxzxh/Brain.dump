<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-03-09 Tue 20:59 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Introducción a SQL</title>
<meta name="author" content="J.D Castro" />
<meta name="description" content="Selecciona todas las columnas de la tabla clientes
Selecciona todas las columnas de las tablas clientes y departmens
Selecciona todas las columnas de la tabla employees
esta consulta mostrará todas las columnas de la tabla employees donde department_id sea igual a 60" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Introducción a SQL</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org66bd3fd">1. <span class="todo TODO">TODO</span> DDL: Creando y Manipulando Objetos de la Base de Datos</a></li>
<li><a href="#orgbcb27aa">2. DML: Manipulando La Información de Las Tablas</a>
<ul>
<li><a href="#org02e74dd">2.1. Insertando Información</a>
<ul>
<li><a href="#org4ffa255">2.1.1. Sin especificar columnas</a></li>
<li><a href="#org00d1a14">2.1.2. Especificando columnas</a></li>
<li><a href="#org54d1125">2.1.3. Omitiendo columnas</a></li>
<li><a href="#org1429aac">2.1.4. Intsertando valores especiales (oracle)</a></li>
</ul>
</li>
<li><a href="#org56810cc">2.2. Cambiando Información</a>
<ul>
<li><a href="#org369028a">2.2.1. Ejemplo</a></li>
</ul>
</li>
<li><a href="#org3a5655d">2.3. Eliminando Infomrmación</a>
<ul>
<li><a href="#orgf42ad38">2.3.1. Ejemplo</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org113719e">3. DML: Iniciando en Consultas SQL</a>
<ul>
<li><a href="#orgf217b48">3.1. SELECT</a>
<ul>
<li><a href="#orgc10c681">3.1.1. Capacidades:</a></li>
<li><a href="#orgf886762">3.1.2. Estructura</a></li>
<li><a href="#orga943c74">3.1.3. Mostrando todas las columnas</a></li>
<li><a href="#org55b54cd">3.1.4. DISTINCT</a></li>
<li><a href="#org86ff02f">3.1.5. Alias</a></li>
<li><a href="#orgc2b1870">3.1.6. Expreciones</a></li>
<li><a href="#orgb1e256c">3.1.7. Evaluación de valores nulos</a></li>
<li><a href="#org3bb8e75">3.1.8. Concatenación de cadenas</a></li>
</ul>
</li>
<li><a href="#orge35eede">3.2. WHERE</a>
<ul>
<li><a href="#orgcd18196">3.2.1. Capacidades</a></li>
<li><a href="#orga4ce2f2">3.2.2. Estructura</a></li>
<li><a href="#orgf68e8cd">3.2.3. Cadenas de caracteres y fechas</a></li>
<li><a href="#org8d6b025">3.2.4. Operadores de comparación</a></li>
<li><a href="#org3faf4e7">3.2.5. Operador BETWEEN</a></li>
<li><a href="#org27e271e">3.2.6. Operador IN</a></li>
<li><a href="#org98a4e7f">3.2.7. Operador LIKE</a></li>
<li><a href="#org346581b">3.2.8. Operador IS NULL</a></li>
<li><a href="#org6b5b97c">3.2.9. Operadores lógicos</a></li>
</ul>
</li>
<li><a href="#org171a163">3.3. ORDER BY</a>
<ul>
<li><a href="#orge85bc35">3.3.1. Decendente y Acentendente</a></li>
<li><a href="#orgb1e51ad">3.3.2. Podemos ordenar múltiples columas en un orden</a></li>
<li><a href="#org9089aa4">3.3.3. Ordenando con columnas no proyectadas</a></li>
<li><a href="#orgefad4ac">3.3.4. Ordenando con expresiones</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org225a39a">4. DML: Funciones Sobre Filas Individuales</a>
<ul>
<li><a href="#org431486c">4.1. Funciones caracter</a>
<ul>
<li><a href="#orgbf6da94">4.1.1. Case Conversion Function</a></li>
<li><a href="#org40ec23f">4.1.2. Ejemplo</a></li>
</ul>
</li>
<li><a href="#org2938a0b">4.2. Funciones de manpulación de caracteres</a>
<ul>
<li><a href="#org077f509">4.2.1. Ejemplo</a></li>
</ul>
</li>
<li><a href="#org2e6bd65">4.3. Funciones Númericas</a></li>
<li><a href="#org6296742">4.4. Trabajando con Fechas</a>
<ul>
<li><a href="#orged5ef8e">4.4.1. Usando Funciones de Fecha</a></li>
</ul>
</li>
<li><a href="#orgaea3f58">4.5. Conversión Implicita de Tipos de Datos</a></li>
<li><a href="#orga3f5d63">4.6. Función TO<sub>CHAR</sub> con Fechas</a>
<ul>
<li><a href="#orgf2d0204">4.6.1. Modelos de formato para fechas</a></li>
<li><a href="#org973fcfa">4.6.2. Ejemplos de formato</a></li>
<li><a href="#orga8770a8">4.6.3. Ejemplo de uso</a></li>
</ul>
</li>
<li><a href="#org3cd1980">4.7. Función TO<sub>CHAR</sub> con Números</a>
<ul>
<li><a href="#orgcfd9081">4.7.1. Ejemplo</a></li>
<li><a href="#orgbda50fd">4.7.2. Funciones <code>TO_NUMBER</code> y <code>TO_DATE</code></a></li>
</ul>
</li>
<li><a href="#org4152daf">4.8. Función NVL</a>
<ul>
<li><a href="#org1cc5e98">4.8.1. Ejemplo</a></li>
</ul>
</li>
<li><a href="#orgf7f225a">4.9. Función DECODE</a>
<ul>
<li><a href="#org1faf97f">4.9.1. Ejemplo</a></li>
</ul>
</li>
<li><a href="#org2addd4b">4.10. Anidando Funciones</a></li>
</ul>
</li>
<li><a href="#org09c4313">5. DML: Obteniendo Información de Múltiples Tablas</a>
<ul>
<li><a href="#org8c283fd">5.1. ¿Qué es una reunión? (JOIN)</a>
<ul>
<li><a href="#org7b7730f">5.1.1. Producto cartesiano</a></li>
</ul>
</li>
<li><a href="#org758b5d9">5.2. Tipos de reuniones</a>
<ul>
<li><a href="#org841e396">5.2.1. Equi join</a></li>
<li><a href="#orgef762c1">5.2.2. Non-equi join</a></li>
<li><a href="#orge5f79c4">5.2.3. Outer join</a></li>
<li><a href="#org744f839">5.2.4. Self join</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org899b413">6. DML: Funciones de Agregación</a>
<ul>
<li><a href="#org0c45572">6.1. Funciones de grupo</a></li>
<li><a href="#org1402a3d">6.2. Funciones con Argumentos Númericos</a></li>
<li><a href="#org8540b74">6.3. Función COUNT</a></li>
<li><a href="#orgda9e1ff">6.4. Creando grupos de datos</a>
<ul>
<li><a href="#org1ce7d21">6.4.1. Ejemplo</a></li>
<li><a href="#orgb54b31f">6.4.2. Consultas Ilegales</a></li>
<li><a href="#org0a672ba">6.4.3. Cláusula HAVING</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org466ac5a">7. DML: Subconsultas</a>
<ul>
<li><a href="#org236a8f2">7.1. Subconsultas de Una Sola Fila</a>
<ul>
<li><a href="#orgbefd7b9">7.1.1. Ejemplo</a></li>
</ul>
</li>
<li><a href="#orgefd62ba">7.2. Subconsultas de Múltiples filas</a>
<ul>
<li><a href="#org2231c23">7.2.1. Ejemplo</a></li>
</ul>
</li>
<li><a href="#orgb9a3f9e">7.3. Subconsultas de múltiples columnas</a>
<ul>
<li><a href="#org90e0a7b">7.3.1. Ejemplo</a></li>
<li><a href="#org851c6d7">7.3.2. Subconsultas en la cáusula FROM</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org333e54e">8. DML: Creando y Manipulando Objetos de la Base de Datos</a>
<ul>
<li><a href="#orged2dd15">8.1. Creando una tabla usando consultas</a>
<ul>
<li><a href="#orga121a4c">8.1.1. Ejemplo: Creando tablas permanentes</a></li>
<li><a href="#orge5b3a82">8.1.2. Ejemplo: Creando tablas temporales</a></li>
</ul>
</li>
<li><a href="#org1c24e72">8.2. Creando una tabla usando Subconsultas</a>
<ul>
<li><a href="#orgbbc213d">8.2.1. Ejemplo</a></li>
</ul>
</li>
<li><a href="#org864d1fe">8.3. Vistas</a>
<ul>
<li><a href="#org635f267">8.3.1. ¿Por qué vistas?</a></li>
<li><a href="#org201472e">8.3.2. Estructura de las vistas</a></li>
<li><a href="#org26d0a52">8.3.3. Creando vistas</a></li>
<li><a href="#org1a4bfdb">8.3.4. Tipos de vistas</a></li>
<li><a href="#org6c58545">8.3.5. Modificando una Vista</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orge47cddf">9. DML: Producir impresiones legibles con SQL*Plus</a>
<ul>
<li><a href="#orge71e939">9.1. Posibilidades de edición</a></li>
<li><a href="#orga7d0614">9.2. Archivos SPOOL y SQL</a></li>
<li><a href="#orge323c7f">9.3. Variables de sustitución</a></li>
<li><a href="#org34cb848">9.4. Comando <code>SET VERIFY</code></a></li>
<li><a href="#orgf74ecf1">9.5. Doble &amp;&amp; para la sustitución de variables</a></li>
<li><a href="#orgde6ef29">9.6. Definiendo variables de usuario</a>
<ul>
<li><a href="#org2777a86">9.6.1. Comando <code>ACCEPT</code></a></li>
<li><a href="#orgf4a9b9d">9.6.2. Comandos <code>DEFINE</code> y <code>UNDEFINE</code></a></li>
</ul>
</li>
<li><a href="#orgdeaa390">9.7. Personalizando el ambiente de SQL*PLUS</a></li>
<li><a href="#orge137fd9">9.8. Comandos para dar formato SQL*Plus</a>
<ul>
<li><a href="#org4510244">9.8.1. El comando <code>COLUMN</code></a></li>
<li><a href="#org290a674">9.8.2. Comandos <code>TITLE</code> y <code>BTITLE</code></a></li>
<li><a href="#org33de02f">9.8.3. Comando <code>BREAK</code></a></li>
<li><a href="#orgae10444">9.8.4. Crear un fichero FLAT (plano)</a></li>
<li><a href="#orgd5e0706">9.8.5. Lineas de comandos SQL*PLUS</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgfb1017b">10. Crear y administrar tablas que incluyan <i>constraints</i></a>
<ul>
<li><a href="#orga48b940">10.1. Integridad de los datos</a></li>
<li><a href="#orgcde81cd">10.2. Tipos de integridad</a></li>
<li><a href="#orgd0141d4">10.3. Tipos de constraints</a></li>
<li><a href="#orgc08cf5c">10.4. s</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
<a href="file:///home/jdemc/org/Files/index.html">Índice</a>
</p>

<div id="outline-container-org66bd3fd" class="outline-2">
<h2 id="org66bd3fd"><span class="section-number-2">1</span> <span class="todo TODO">TODO</span> DDL: Creando y Manipulando Objetos de la Base de Datos</h2>
</div>
<div id="outline-container-orgbcb27aa" class="outline-2">
<h2 id="orgbcb27aa"><span class="section-number-2">2</span> DML: Manipulando La Información de Las Tablas</h2>
<div class="outline-text-2" id="text-2">
<p>
Una <b>Transacción</b> es un conjunto de instrucciones DML que trabajan como una únidad lógica.
</p>
</div>
<div id="outline-container-org02e74dd" class="outline-3">
<h3 id="org02e74dd"><span class="section-number-3">2.1</span> Insertando Información</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>Con esta instrucción podemos insertar una fila a la vez.</li>
<li>Opcionalmente, se listan las columas a las cuales se van a insertar los valores.</li>
<li>Usa comillas simples para encerrar los valores de tipo <b>carácter</b> y las <b>fechas</b>.</li>
</ul>
</div>
<div id="outline-container-org4ffa255" class="outline-4">
<h4 id="org4ffa255"><span class="section-number-4">2.1.1</span> Sin especificar columnas</h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
Si no especificas columnas y no tienes valores para todas, debes llenar los campos con <code>NULL</code>.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">INSERT</span> <span style="color: #ff79c6; font-style: italic;">INTO</span>
       clientes
<span style="color: #ff79c6; font-style: italic;">VALUES</span>
    <span style="color: #61bfff;">(</span><span style="color: #f1fa8c;">'Eugenio'</span>,<span style="color: #f1fa8c;">'Av. T&#233;cnologico'</span>,<span style="color: #bd93f9; font-weight: bold;">14</span>,<span style="color: #f1fa8c;">'4422274400'</span><span style="color: #61bfff;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org00d1a14" class="outline-4">
<h4 id="org00d1a14"><span class="section-number-4">2.1.2</span> Especificando columnas</h4>
<div class="outline-text-4" id="text-2-1-2">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">INSERT</span> <span style="color: #ff79c6; font-style: italic;">INTO</span>
       clientes <span style="color: #61bfff;">(</span>nombre_cliente, calle_cliente, ciudad_cliente, telefono<span style="color: #61bfff;">)</span>
<span style="color: #ff79c6; font-style: italic;">VALUES</span>
    <span style="color: #61bfff;">(</span><span style="color: #f1fa8c;">'Guillermo'</span>,<span style="color: #f1fa8c;">'Escobedo'</span>,<span style="color: #bd93f9; font-weight: bold;">14</span>,<span style="color: #f1fa8c;">'4422274605'</span><span style="color: #61bfff;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org54d1125" class="outline-4">
<h4 id="org54d1125"><span class="section-number-4">2.1.3</span> Omitiendo columnas</h4>
<div class="outline-text-4" id="text-2-1-3">
<p>
Al omitir columas, las columnas a las cuales no se les asigna valor se les da valor nulo (<code>NULL</code>),
asi que solo las columnas que no tienen la restricción de <code>NOT NULL</code> pueden omitirse.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">INSERT</span> <span style="color: #ff79c6; font-style: italic;">INTO</span>
       clientes <span style="color: #61bfff;">(</span>nombre_cliente, ciudad_cliente<span style="color: #61bfff;">)</span>
<span style="color: #ff79c6; font-style: italic;">VALUES</span>
    <span style="color: #61bfff;">(</span><span style="color: #f1fa8c;">'Guillermo'</span>,<span style="color: #bd93f9; font-weight: bold;">14</span><span style="color: #61bfff;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1429aac" class="outline-4">
<h4 id="org1429aac"><span class="section-number-4">2.1.4</span> Intsertando valores especiales (oracle)</h4>
<div class="outline-text-4" id="text-2-1-4">
</div>
<ol class="org-ol">
<li><a id="org27e5efa"></a>Hora y fecha<br />
<div class="outline-text-5" id="text-2-1-4-1">
<p>
la variable <code>SYSDATE</code> contiene la hora y fecha actual.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">INSERT</span> <span style="color: #ff79c6; font-style: italic;">INTO</span>
       depositos <span style="color: #61bfff;">(</span>nombre_cliente, nombre_sucursal, monto, fecha<span style="color: #61bfff;">)</span>
<span style="color: #ff79c6; font-style: italic;">VALUES</span>
    <span style="color: #61bfff;">(</span><span style="color: #f1fa8c;">'Eugenio'</span>,<span style="color: #f1fa8c;">'Alamos'</span>, <span style="color: #bd93f9; font-weight: bold;">100</span>, SYSDATE<span style="color: #61bfff;">)</span>
</pre>
</div>
<p>
Si se desea insertar una fecha determinada.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">INSERT</span> <span style="color: #ff79c6; font-style: italic;">INTO</span>
       <span style="color: #61bfff;">(</span>id_alumno, nombre_alumno, sexo, pais_nacimiento, fecha_nacimiento, carrera<span style="color: #61bfff;">)</span>
<span style="color: #ff79c6; font-style: italic;">VALUES</span>
    <span style="color: #61bfff;">(</span><span style="color: #bd93f9; font-weight: bold;">15</span>,<span style="color: #f1fa8c;">'Eugenio'</span>,<span style="color: #f1fa8c;">'M'</span>,<span style="color: #f1fa8c;">'M&#233;xico'</span>,TO_DATE<span style="color: #ff79c6;">(</span><span style="color: #f1fa8c;">'FEB 3, 97'</span>,<span style="color: #f1fa8c;">'MON DD, YY'</span><span style="color: #ff79c6;">)</span>,<span style="color: #bd93f9; font-weight: bold;">1000</span><span style="color: #61bfff;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-org56810cc" class="outline-3">
<h3 id="org56810cc"><span class="section-number-3">2.2</span> Cambiando Información</h3>
<div class="outline-text-3" id="text-2-2">
<p>
El estatuto <code>UPDATE</code> Actualiza la información de las filas existentes en una tabla.
</p>
<ul class="org-ul">
<li>Se pueden cambiar varias filas a la vez.</li>
<li>Las filas actualizadas pueden ser filtradas con el estatuto <code>WHERE</code>.</li>
<li>Si se omite el <code>WHERE</code>, todas las filas serán modificadas.</li>
</ul>
</div>
<div id="outline-container-org369028a" class="outline-4">
<h4 id="org369028a"><span class="section-number-4">2.2.1</span> Ejemplo</h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
Cambiando el nombre de la sucursal.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">UPDATE</span>
    sucursales
<span style="color: #ff79c6; font-style: italic;">SET</span>
    nombre_sucursal=<span style="color: #f1fa8c;">'&#193;lamos'</span>
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    nombre_sucursal=<span style="color: #f1fa8c;">'Alamos'</span>
</pre>
</div>
<p>
Cambiando el pais de nacimiento de todos los alumnos.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">UPDATE</span>
    alumnos
<span style="color: #ff79c6; font-style: italic;">SET</span>
    pais_nacimiento=<span style="color: #f1fa8c;">'M&#233;xico'</span>;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3a5655d" class="outline-3">
<h3 id="org3a5655d"><span class="section-number-3">2.3</span> Eliminando Infomrmación</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Puedes eliminar filas existentes de una tabla usando el estatuto <code>DELETE</code>.
</p>
<ul class="org-ul">
<li>Las filas que cumplan con la condición <code>WHERE</code> serán eliminadas.</li>
<li>Si se omite la cláusula <code>WHERE</code> todas las filas serán eliminadas.</li>
</ul>
</div>
<div id="outline-container-orgf42ad38" class="outline-4">
<h4 id="orgf42ad38"><span class="section-number-4">2.3.1</span> Ejemplo</h4>
<div class="outline-text-4" id="text-2-3-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">DELETE</span> <span style="color: #61bfff;">[</span><span style="color: #ff79c6; font-style: italic;">FROM</span><span style="color: #61bfff;">]</span> nombre_tabla
<span style="color: #61bfff;">[</span><span style="color: #ff79c6; font-style: italic;">WHERE</span> condici&#243;n<span style="color: #61bfff;">]</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org113719e" class="outline-2">
<h2 id="org113719e"><span class="section-number-2">3</span> DML: Iniciando en Consultas SQL</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orgf217b48" class="outline-3">
<h3 id="orgf217b48"><span class="section-number-3">3.1</span> SELECT</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-orgc10c681" class="outline-4">
<h4 id="orgc10c681"><span class="section-number-4">3.1.1</span> Capacidades:</h4>
<div class="outline-text-4" id="text-3-1-1">
<ul class="org-ul">
<li>Selección: Selecciona las filas</li>
<li>Proyección: Selecciona las columnas</li>
<li>Reunión: Une dos columnas</li>
</ul>
</div>
</div>
<div id="outline-container-orgf886762" class="outline-4">
<h4 id="orgf886762"><span class="section-number-4">3.1.2</span> Estructura</h4>
<div class="outline-text-4" id="text-3-1-2">
<ul class="org-ul">
<li>SELECT: Lista que columnas van a tener los resultados</li>
<li>FROM: De que tablas se va a obtener</li>
<li>WHERE: Las condiciónes de reunión</li>
</ul>
</div>
<ol class="org-ol">
<li><a id="orgaafd160"></a>Ejemplo<br />
<div class="outline-text-5" id="text-3-1-2-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    id_cliente, nombre_cliente, calle_cliente
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    clientes
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orga943c74" class="outline-4">
<h4 id="orga943c74"><span class="section-number-4">3.1.3</span> Mostrando todas las columnas</h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
Se puede mostrar todas las columnas de la tabla con un <code>*</code>
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span> *
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    clientes
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span> *
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees, departments
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    employees*
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
</pre>
</div>
</div>
</div>

<div id="outline-container-org55b54cd" class="outline-4">
<h4 id="org55b54cd"><span class="section-number-4">3.1.4</span> DISTINCT</h4>
<div class="outline-text-4" id="text-3-1-4">
<p>
Para mostrar solo los valores diferentes de las columnas usamos la palabra reservada DISTINCT
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #6272a4; font-style: italic;">--Muestra solo los valores diferentes(unicos)</span>
<span style="color: #ff79c6; font-style: italic;">SELECT</span>
    <span style="color: #ff79c6; font-style: italic;">DISTINCT</span> department_id
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
</pre>
</div>
</div>
</div>

<div id="outline-container-org86ff02f" class="outline-4">
<h4 id="org86ff02f"><span class="section-number-4">3.1.5</span> Alias</h4>
<div class="outline-text-4" id="text-3-1-5">
<p>
Podemos poner un alias a las columnas del resultado.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    salary <span style="color: #ff79c6; font-style: italic;">AS</span> "Salario Anual"
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc2b1870" class="outline-4">
<h4 id="orgc2b1870"><span class="section-number-4">3.1.6</span> Expreciones</h4>
<div class="outline-text-4" id="text-3-1-6">
<p>
El <code>SELECT</code> puede contener expreciones con los operadores <code>+, -, * o /</code>.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #6272a4; font-style: italic;">-- Podemos usar p&#225;rentes&#237;s para cambiar la procedencia de los operadores</span>
<span style="color: #ff79c6; font-style: italic;">SELECT</span>
    <span style="color: #61bfff;">(</span>salary+<span style="color: #bd93f9; font-weight: bold;">300</span><span style="color: #61bfff;">)</span>*<span style="color: #bd93f9; font-weight: bold;">12</span>
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb1e256c" class="outline-4">
<h4 id="orgb1e256c"><span class="section-number-4">3.1.7</span> Evaluación de valores nulos</h4>
<div class="outline-text-4" id="text-3-1-7">
<p>
En <b>Oracle</b>, la función <code>NVL</code> permite convertir un valor nulo a uno válido
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #6272a4; font-style: italic;">-- NVL(columna,valor a dar a los nulos)</span>
<span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name,
    salary*<span style="color: #bd93f9; font-weight: bold;">12</span>,
    NVL<span style="color: #61bfff;">(</span>commision_pct,<span style="color: #bd93f9; font-weight: bold;">0</span><span style="color: #61bfff;">)</span>,
    NVL<span style="color: #61bfff;">(</span>hire_date,<span style="color: #f1fa8c;">'2013-05-12'</span><span style="color: #61bfff;">)</span>,
    NVL<span style="color: #61bfff;">(</span>phone_number, <span style="color: #f1fa8c;">'Sin telefono'</span><span style="color: #61bfff;">)</span>
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
</pre>
</div>
</div>
</div>

<div id="outline-container-org3bb8e75" class="outline-4">
<h4 id="org3bb8e75"><span class="section-number-4">3.1.8</span> Concatenación de cadenas</h4>
<div class="outline-text-4" id="text-3-1-8">
<p>
Se pueden concatenar cadenas o columnas con el operador <code>|| o +</code> (depende de el manejador)
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #6272a4; font-style: italic;">-- Nombre apellido</span>
<span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name||<span style="color: #f1fa8c;">' '</span>||first_name
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge35eede" class="outline-3">
<h3 id="orge35eede"><span class="section-number-3">3.2</span> WHERE</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-orgcd18196" class="outline-4">
<h4 id="orgcd18196"><span class="section-number-4">3.2.1</span> Capacidades</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
La cláusula <code>WHERE</code> permite filtar los resultados de vienen de la cláusula <code>SELECT</code>,
Esta es colocada despues de la cláusula <code>FROM</code>.
</p>
</div>
</div>
<div id="outline-container-orga4ce2f2" class="outline-4">
<h4 id="orga4ce2f2"><span class="section-number-4">3.2.2</span> Estructura</h4>
<div class="outline-text-4" id="text-3-2-2">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    columas
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    tablas
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    condiciones
</pre>
</div>
</div>
<ol class="org-ol">
<li><a id="orgf4dabca"></a>Ejemplo<br />
<div class="outline-text-5" id="text-3-2-2-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span> *
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    department_id = <span style="color: #bd93f9; font-weight: bold;">60</span>;
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgf68e8cd" class="outline-4">
<h4 id="orgf68e8cd"><span class="section-number-4">3.2.3</span> Cadenas de caracteres y fechas</h4>
<div class="outline-text-4" id="text-3-2-3">
<ul class="org-ul">
<li>Los caracteres de tipo string y fechas son delimitados con comillas simples.</li>
<li>Son sensibles a Mayusculas.</li>
<li><p>
Las fechas son sensibles a un formato, para conocer este formato podemos hacer.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span> sysdate
<span style="color: #ff79c6; font-style: italic;">FROM</span> dual;
</pre>
</div></li>
<li>Las fechas pueden requerir la función <code>TO_DATE</code> para ser utilizadas en el <code>WHERE</code>.</li>
</ul>
</div>
</div>
<div id="outline-container-org8d6b025" class="outline-4">
<h4 id="org8d6b025"><span class="section-number-4">3.2.4</span> Operadores de comparación</h4>
<div class="outline-text-4" id="text-3-2-4">
<p>
Se pueden usar los operadores de comparación \=, &gt;,&gt;\= y !=
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name, salary, commision_pct
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    commision_pct &lt;= .<span style="color: #bd93f9; font-weight: bold;">2</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org3faf4e7" class="outline-4">
<h4 id="org3faf4e7"><span class="section-number-4">3.2.5</span> Operador BETWEEN</h4>
<div class="outline-text-4" id="text-3-2-5">
<p>
Este opreador se puede usar con cualquer tipo de dato y filtra entre dos valores dados (inclusivo)
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name, salary
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    salary <span style="color: #ff79c6; font-style: italic;">BETWEEN</span> <span style="color: #bd93f9; font-weight: bold;">1500</span> <span style="color: #ff79c6; font-style: italic;">AND</span> <span style="color: #bd93f9; font-weight: bold;">25000</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org27e271e" class="outline-4">
<h4 id="org27e271e"><span class="section-number-4">3.2.6</span> Operador IN</h4>
<div class="outline-text-4" id="text-3-2-6">
<p>
Concuerda con cualquer valor contenido en la lista. <code>IN(lista de valores)</code>
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name, salary, manager_id
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    manager_id <span style="color: #ff79c6; font-style: italic;">IN</span> <span style="color: #61bfff;">(</span><span style="color: #bd93f9; font-weight: bold;">120</span>, <span style="color: #bd93f9; font-weight: bold;">123</span><span style="color: #61bfff;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org98a4e7f" class="outline-4">
<h4 id="org98a4e7f"><span class="section-number-4">3.2.7</span> Operador LIKE</h4>
<div class="outline-text-4" id="text-3-2-7">
<p>
Sirve para hacer búsquedas con comodines de cadenas de caracteres.
</p>
<ul class="org-ul">
<li>El símbolo <code>%</code> representa cero o varios caracteres.</li>
<li>El símbolo <code>_</code> representa un cáracter.</li>
</ul>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span> last_name
<span style="color: #ff79c6; font-style: italic;">FROM</span> employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span> last_name <span style="color: #ff79c6; font-style: italic;">LIKE</span> <span style="color: #f1fa8c;">'S%'</span>;
</pre>
</div>
<p>
Podemos combinar ambos patrones para concordar con una busqueda más compleja.
</p>
</div>
</div>
<div id="outline-container-org346581b" class="outline-4">
<h4 id="org346581b"><span class="section-number-4">3.2.8</span> Operador IS NULL</h4>
<div class="outline-text-4" id="text-3-2-8">
<p>
Se usa para buscar valores nulos.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name, manager_id
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    manager_id <span style="color: #ff79c6; font-style: italic;">IS</span> <span style="color: #ff79c6; font-style: italic;">NULL</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org6b5b97c" class="outline-4">
<h4 id="org6b5b97c"><span class="section-number-4">3.2.9</span> Operadores lógicos</h4>
<div class="outline-text-4" id="text-3-2-9">
<p>
Estos operadores pueden ser usados con los () para hacer busquedas más específicas.
</p>
</div>
<ol class="org-ol">
<li><a id="org306fa54"></a>Operador AND<br />
<div class="outline-text-5" id="text-3-2-9-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    employee_id, last_name, job_id, salary
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    salary &gt;= <span style="color: #bd93f9; font-weight: bold;">1100</span>
    <span style="color: #ff79c6; font-style: italic;">AND</span> job_id=<span style="color: #f1fa8c;">'SA_MAN'</span>
</pre>
</div>
</div>
</li>

<li><a id="org05294bc"></a>Operador OR<br />
<div class="outline-text-5" id="text-3-2-9-2">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    employee_id, last_name, job_id, salary
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    salary &gt;= <span style="color: #bd93f9; font-weight: bold;">11000</span>
    <span style="color: #ff79c6; font-style: italic;">OR</span> job_id=<span style="color: #f1fa8c;">'SA_MAN'</span>;
</pre>
</div>
</div>
</li>

<li><a id="org8a55980"></a>Operador NOT<br />
<div class="outline-text-5" id="text-3-2-9-3">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    employee_id, last_name, job_id, salary
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    job_id <span style="color: #ff79c6; font-style: italic;">NOT</span> <span style="color: #ff79c6; font-style: italic;">IN</span> <span style="color: #61bfff;">(</span><span style="color: #f1fa8c;">'HR_REP'</span>,<span style="color: #f1fa8c;">'MK_REP'</span>
                  <span style="color: #f1fa8c;">'SA_REP'</span>,<span style="color: #f1fa8c;">'PU_MAN'</span><span style="color: #61bfff;">)</span>;
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-org171a163" class="outline-3">
<h3 id="org171a163"><span class="section-number-3">3.3</span> ORDER BY</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Esta cláusula nos permite ordenar las tablas de salida, puede ser
</p>
<ul class="org-ul">
<li><code>ASC</code> : de manera acendente.</li>
<li><code>DESC</code> : de manera decendente.</li>
</ul>
<p>
Esta clausula siempre debe estar al final, en la últma instrucción.
</p>
</div>
<div id="outline-container-orge85bc35" class="outline-4">
<h4 id="orge85bc35"><span class="section-number-4">3.3.1</span> Decendente y Acentendente</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
Por defecto se ordena de manera acendente.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name, salary*<span style="color: #bd93f9; font-weight: bold;">12</span>, department_id, hire_date <span style="color: #ff79c6; font-style: italic;">AS</span> "Fecha de Contrato"
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">ORDER</span> <span style="color: #ff79c6; font-style: italic;">BY</span>
      hire_date <span style="color: #ff79c6; font-style: italic;">DESC</span>;
</pre>
</div>
<p>
En <code>ORDER BY</code> podemos ordenar llamando al alias de hire<sub>date</sub> <code>ORDER BY "Fecha de Contrato" DESC;</code>.
</p>
</div>
</div>
<div id="outline-container-orgb1e51ad" class="outline-4">
<h4 id="orgb1e51ad"><span class="section-number-4">3.3.2</span> Podemos ordenar múltiples columas en un orden</h4>
<div class="outline-text-4" id="text-3-3-2">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name, salary*<span style="color: #bd93f9; font-weight: bold;">12</span>, department_id depto, hire_date <span style="color: #ff79c6; font-style: italic;">AS</span> "Fecha de Contrato"
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">ORDER</span> <span style="color: #ff79c6; font-style: italic;">BY</span>
      depto, hire_date;
</pre>
</div>
</div>
</div>

<div id="outline-container-org9089aa4" class="outline-4">
<h4 id="org9089aa4"><span class="section-number-4">3.3.3</span> Ordenando con columnas no proyectadas</h4>
<div class="outline-text-4" id="text-3-3-3">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name, salary, department_id
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">ORDER</span> <span style="color: #ff79c6; font-style: italic;">BY</span>
      job_id;
</pre>
</div>
<p>
Podemos ordenar en base a columnas no proyectadas con el <code>SELECT</code>.
</p>
</div>
</div>
<div id="outline-container-orgefad4ac" class="outline-4">
<h4 id="orgefad4ac"><span class="section-number-4">3.3.4</span> Ordenando con expresiones</h4>
<div class="outline-text-4" id="text-3-3-4">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name, salary, department_id
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">ORDER</span> <span style="color: #ff79c6; font-style: italic;">BY</span>
      salary*<span style="color: #bd93f9; font-weight: bold;">12</span>;
</pre>
</div>
<p>
Podemos usar expreciones para ordenar nuestras columnas.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org225a39a" class="outline-2">
<h2 id="org225a39a"><span class="section-number-2">4</span> DML: Funciones Sobre Filas Individuales</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>Manipulan unidades de dato.</li>
<li>Varios argumentos, un valor de salida.</li>
<li>Actuan sobre cada una de las filas regresadas.</li>
<li>Regresan un resultado por fila.</li>
<li>Pueden modificar tipos de dato.</li>
<li>Pueden ser anidadas.
<ul class="org-ul">
<li><code>nombre_funcion (columna | expreción , [arg1,arg2,...])</code></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org431486c" class="outline-3">
<h3 id="org431486c"><span class="section-number-3">4.1</span> Funciones caracter</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-orgbf6da94" class="outline-4">
<h4 id="orgbf6da94"><span class="section-number-4">4.1.1</span> Case Conversion Function</h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
Cambian las mayúsculas y minúsculas de cadenas de caracteres.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Función</th>
<th scope="col" class="org-left">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>LOWER('SQL Course')</code></td>
<td class="org-left">sql course</td>
</tr>

<tr>
<td class="org-left"><code>UPPER('SQL Course')</code></td>
<td class="org-left">SQL COURSE</td>
</tr>

<tr>
<td class="org-left"><code>INITCAP('SQL Course')</code></td>
<td class="org-left">Sql Course</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org40ec23f" class="outline-4">
<h4 id="org40ec23f"><span class="section-number-4">4.1.2</span> Ejemplo</h4>
<div class="outline-text-4" id="text-4-1-2">
<p>
Si desconocemos cómo esta la información en la base de datos,
nos conviene convertir a minúsculas lo que obtenemos de la base de datos y hacer la comparación.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    employee_id, last_name, department_id
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employee
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    <span style="color: #ffb86c;">LOWER</span><span style="color: #61bfff;">(</span>last_name<span style="color: #61bfff;">)</span> = <span style="color: #f1fa8c;">'king'</span>;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2938a0b" class="outline-3">
<h3 id="org2938a0b"><span class="section-number-3">4.2</span> Funciones de manpulación de caracteres</h3>
<div class="outline-text-3" id="text-4-2">
<p>
Manipulan caracteres.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Función</th>
<th scope="col" class="org-left">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>CONCAT('Good','String')</code></td>
<td class="org-left">GoodSrting</td>
</tr>

<tr>
<td class="org-left"><code>SUBSTR('String',1,3)</code></td>
<td class="org-left">Str</td>
</tr>

<tr>
<td class="org-left"><code>LENGTH('String')</code></td>
<td class="org-left">6</td>
</tr>

<tr>
<td class="org-left"><code>INSTR('String',r)</code></td>
<td class="org-left">3</td>
</tr>

<tr>
<td class="org-left"><code>LPAD(SALARY,10,'*')</code></td>
<td class="org-left">******500</td>
</tr>
</tbody>
</table>
</div>
<div id="outline-container-org077f509" class="outline-4">
<h4 id="org077f509"><span class="section-number-4">4.2.1</span> Ejemplo</h4>
<div class="outline-text-4" id="text-4-2-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name, CONCAT<span style="color: #61bfff;">(</span>last_name,first_name<span style="color: #61bfff;">)</span>, <span style="color: #ff79c6; font-style: italic;">LENGTH</span><span style="color: #61bfff;">(</span>last_name<span style="color: #61bfff;">)</span>, INSTR<span style="color: #61bfff;">(</span>last_name,<span style="color: #f1fa8c;">'s'</span><span style="color: #61bfff;">)</span>
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    SUBSTR<span style="color: #61bfff;">(</span>last_name, <span style="color: #bd93f9; font-weight: bold;">2</span>, <span style="color: #bd93f9; font-weight: bold;">2</span><span style="color: #61bfff;">)</span> = <span style="color: #f1fa8c;">'ar'</span>;
</pre>
</div>

<p>
Dando como resultado la tabla:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">last<sub>name</sub></th>
<th scope="col" class="org-left">CONCAT(last<sub>name,first</sub><sub>name</sub>)</th>
<th scope="col" class="org-right">LENGTH(last<sub>name</sub>)</th>
<th scope="col" class="org-right">INSTR(last<sub>name</sub>,&rsquo;s&rsquo;)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Marke</td>
<td class="org-left">MarkeSteven</td>
<td class="org-right">6</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">Hartstein</td>
<td class="org-left">HartsteinMichael</td>
<td class="org-right">9</td>
<td class="org-right">5</td>
</tr>

<tr>
<td class="org-left">Vargas</td>
<td class="org-left">VargasPeter</td>
<td class="org-right">6</td>
<td class="org-right">6</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org2e6bd65" class="outline-3">
<h3 id="org2e6bd65"><span class="section-number-3">4.3</span> Funciones Númericas</h3>
<div class="outline-text-3" id="text-4-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Función</th>
<th scope="col" class="org-right">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>ROUND(45.926,2)</code></td>
<td class="org-right">45,93</td>
</tr>

<tr>
<td class="org-left"><code>TRUNC(45.926,2)</code></td>
<td class="org-right">45.92</td>
</tr>

<tr>
<td class="org-left"><code>MOD(1600, 300)</code></td>
<td class="org-right">100</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org6296742" class="outline-3">
<h3 id="org6296742"><span class="section-number-3">4.4</span> Trabajando con Fechas</h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li>Oracle almacena las fechas internamente en un formato númerico: siglo, año, mes, día, horas, minutos, segundos.</li>
<li>El formato por defecto en México es <code>DD/MM/YY</code>.</li>
<li><code>SYSDATE</code> es una función que retorna la fecha y hora de sistema.</li>
<li><code>DUAL</code> es una tabla comodín que se usa para ver <code>SYSDATE</code>.</li>
</ul>
</div>
<div id="outline-container-orged5ef8e" class="outline-4">
<h4 id="orged5ef8e"><span class="section-number-4">4.4.1</span> Usando Funciones de Fecha</h4>
<div class="outline-text-4" id="text-4-4-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Función</th>
<th scope="col" class="org-left">Resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>MONTHS_BETWEEN('01/09/95', '11/01/94')</code></td>
<td class="org-left">19.6774194</td>
</tr>

<tr>
<td class="org-left"><code>ADD_MONTHS('11/01/94',6)</code></td>
<td class="org-left">&rsquo;11-JUL-94&rsquo;</td>
</tr>

<tr>
<td class="org-left"><code>NEXT_DAY('01/09/95','Viernes')</code></td>
<td class="org-left">&rsquo;08-SEP-95&rsquo;</td>
</tr>

<tr>
<td class="org-left"><code>LAST_DAY('01/09/95')</code></td>
<td class="org-left">&rsquo;30-SEP-95&rsquo;</td>
</tr>

<tr>
<td class="org-left"><code>ROUND(TO_DATE('25/07/95'),'MONTH')</code></td>
<td class="org-left">&rsquo;01/08/95&rsquo;</td>
</tr>

<tr>
<td class="org-left"><code>ROUND(TO_DATE('25/07/95'),'YEAR')</code></td>
<td class="org-left">&rsquo;01/01/96&rsquo;</td>
</tr>

<tr>
<td class="org-left"><code>TRUNC(TO_DATE('25/07/95'),'MONTH')</code></td>
<td class="org-left">&rsquo;01/07/96&rsquo;</td>
</tr>

<tr>
<td class="org-left"><code>TRUNC(TO_DATE('25/07/95'),'YEAR')</code></td>
<td class="org-left">&rsquo;01/01/95&rsquo;</td>
</tr>
</tbody>
</table>

<p>
<b>Nota</b>: Se debe de escribir en inglés el segundo argumento.
</p>
</div>
</div>
</div>
<div id="outline-container-orgaea3f58" class="outline-3">
<h3 id="orgaea3f58"><span class="section-number-3">4.5</span> Conversión Implicita de Tipos de Datos</h3>
<div class="outline-text-3" id="text-4-5">
<p>
En asignaciones, Oracle puede convertir automáticamente.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">De</th>
<th scope="col" class="org-left">A</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">VARCHAR2 o CHAR</td>
<td class="org-left">NUMERO</td>
</tr>

<tr>
<td class="org-left">VARCHAR2 o CHAR</td>
<td class="org-left">FECHA</td>
</tr>

<tr>
<td class="org-left">NUMERO</td>
<td class="org-left">VARCHAR2</td>
</tr>

<tr>
<td class="org-left">FECHA</td>
<td class="org-left">VARCHAR2</td>
</tr>
</tbody>
</table>

<p>
En evaluación de expresiones, Oracle puede convertir automáticamente.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">De</th>
<th scope="col" class="org-left">A</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">VARCHAR2 o CHAR</td>
<td class="org-left">NUMERO</td>
</tr>

<tr>
<td class="org-left">VARCHAR2 o CHAR</td>
<td class="org-left">FECHA</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orga3f5d63" class="outline-3">
<h3 id="orga3f5d63"><span class="section-number-3">4.6</span> Función TO<sub>CHAR</sub> con Fechas</h3>
<div class="outline-text-3" id="text-4-6">
<p>
<code>TO_CHAR(fecha, 'formato')</code>
</p>
<ul class="org-ul">
<li>El modelo de formato debe ser encerrado entre comillas simples y es sensible a Mayúsculas.</li>
<li>Puede Incluir cualquier elemento de formato válido de fecha.</li>
<li>Puede utilizarse un <b>Fm</b> para remover blancos o ceros a la izquerda.</li>
</ul>
</div>
<div id="outline-container-orgf2d0204" class="outline-4">
<h4 id="orgf2d0204"><span class="section-number-4">4.6.1</span> Modelos de formato para fechas</h4>
<div class="outline-text-4" id="text-4-6-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Modelo de formato</th>
<th scope="col" class="org-left">Significado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">YYYY</td>
<td class="org-left">Año completo con números</td>
</tr>

<tr>
<td class="org-left">YEAR</td>
<td class="org-left">Año completo en palabras</td>
</tr>

<tr>
<td class="org-left">MM</td>
<td class="org-left">Mes en número</td>
</tr>

<tr>
<td class="org-left">MONTH</td>
<td class="org-left">Nombre completo del mes</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-left">Día númerico</td>
</tr>

<tr>
<td class="org-left">DY</td>
<td class="org-left">Abreviación de 3 letras del nombre del día</td>
</tr>

<tr>
<td class="org-left">DAY</td>
<td class="org-left">Nombre completo del día de la semana</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org973fcfa" class="outline-4">
<h4 id="org973fcfa"><span class="section-number-4">4.6.2</span> Ejemplos de formato</h4>
<div class="outline-text-4" id="text-4-6-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Modelo</th>
<th scope="col" class="org-left">resultado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>HH24:MI:SS AM</code></td>
<td class="org-left">15:45:32 AM</td>
</tr>

<tr>
<td class="org-left"><code>DD "de" MONTH</code></td>
<td class="org-left">12 de Octubre</td>
</tr>

<tr>
<td class="org-left"><code>ddspth</code></td>
<td class="org-left">fourteenth</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orga8770a8" class="outline-4">
<h4 id="orga8770a8"><span class="section-number-4">4.6.3</span> Ejemplo de uso</h4>
<div class="outline-text-4" id="text-4-6-3">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name,
    TO_CHAR<span style="color: #61bfff;">(</span>hire_date, <span style="color: #f1fa8c;">'DD Month YYYY'</span><span style="color: #61bfff;">)</span> <span style="color: #ff79c6; font-style: italic;">AS</span> "Fecha de contrataci&#243;n"
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees;
</pre>
</div>

<p>
daria resultado a:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">last<sub>name</sub></th>
<th scope="col" class="org-left">Fecha de contratación</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Grant</td>
<td class="org-left">13 Enero 2000</td>
</tr>

<tr>
<td class="org-left">Whalen</td>
<td class="org-left">17 Septiembre 1987</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org3cd1980" class="outline-3">
<h3 id="org3cd1980"><span class="section-number-3">4.7</span> Función TO<sub>CHAR</sub> con Números</h3>
<div class="outline-text-3" id="text-4-7">
<p>
<code>TO_CHAR(número, 'formato')</code>
</p>

<p>
Se usan las siguientes tablas de formato:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><code>9</code></td>
<td class="org-left">Representa un número</td>
</tr>

<tr>
<td class="org-left"><code>0</code></td>
<td class="org-left">Fuerza un cero</td>
</tr>

<tr>
<td class="org-left"><code>$</code></td>
<td class="org-left">Muestra un signo de dólar</td>
</tr>

<tr>
<td class="org-left"><code>.</code></td>
<td class="org-left">Imprime un punto</td>
</tr>

<tr>
<td class="org-left"><code>,</code></td>
<td class="org-left">Imprime un indicador de miles</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-orgcfd9081" class="outline-4">
<h4 id="orgcfd9081"><span class="section-number-4">4.7.1</span> Ejemplo</h4>
<div class="outline-text-4" id="text-4-7-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    first_name,
    TO_CHAR<span style="color: #61bfff;">(</span>salary, <span style="color: #f1fa8c;">'$99,999'</span><span style="color: #61bfff;">)</span> fmt_salary
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    <span style="color: #ffb86c;">UPPER</span><span style="color: #61bfff;">(</span>last_name<span style="color: #61bfff;">)</span> = <span style="color: #f1fa8c;">'KING'</span>;
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">first<sub>name</sub></th>
<th scope="col" class="org-right">salary</th>
<th scope="col" class="org-left">fmt<sub>salary</sub></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Steven</td>
<td class="org-right">24000</td>
<td class="org-left">$24,000</td>
</tr>

<tr>
<td class="org-left">Janette</td>
<td class="org-right">10000</td>
<td class="org-left">$10,000</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgbda50fd" class="outline-4">
<h4 id="orgbda50fd"><span class="section-number-4">4.7.2</span> Funciones <code>TO_NUMBER</code> y <code>TO_DATE</code></h4>
<div class="outline-text-4" id="text-4-7-2">
<ul class="org-ul">
<li>Se usa la función <code>TO_NUMBER</code> para convertir cadenas de caracteres a números con formato.
<ul class="org-ul">
<li><code>TO_NUMBER(caracter)</code></li>
</ul></li>
<li>Se usa la función <code>TO_DATE</code> para convertir cadenas de caracteres a fecha con formato.
<ul class="org-ul">
<li><code>TO_DATE(caracter[, 'modelo de fomato'])</code></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org4152daf" class="outline-3">
<h3 id="org4152daf"><span class="section-number-3">4.8</span> Función NVL</h3>
<div class="outline-text-3" id="text-4-8">
<p>
Convierte de un valor nulo a uno válido.
</p>
<ul class="org-ul">
<li>Se puede usar con fecha, carácter y número.</li>
<li>Los tipos de dato deben coincidir.</li>
</ul>
</div>

<div id="outline-container-org1cc5e98" class="outline-4">
<h4 id="org1cc5e98"><span class="section-number-4">4.8.1</span> Ejemplo</h4>
<div class="outline-text-4" id="text-4-8-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name,
    salary,
    commision_pct,
    <span style="color: #61bfff;">(</span>salary*<span style="color: #bd93f9; font-weight: bold;">12</span><span style="color: #61bfff;">)</span> + NVL<span style="color: #61bfff;">(</span>commision_pct*salary,<span style="color: #bd93f9; font-weight: bold;">0</span><span style="color: #61bfff;">)</span> <span style="color: #ff79c6; font-style: italic;">AS</span> "NVL",
    <span style="color: #61bfff;">(</span>salary*<span style="color: #bd93f9; font-weight: bold;">12</span><span style="color: #61bfff;">)</span> + <span style="color: #61bfff;">(</span>commision_pct*salary<span style="color: #61bfff;">)</span> "<span style="color: #ff79c6; font-style: italic;">NULL</span>"
<span style="color: #ff79c6; font-style: italic;">From</span>
    employees;
</pre>
</div>

<p>
Que daria como resultado:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> Si no nos encargamos de los valores nulos, nuestra operación da valor nulo.</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">last<sub>name</sub></th>
<th scope="col" class="org-right">salary</th>
<th scope="col" class="org-right">commision<sub>pct</sub></th>
<th scope="col" class="org-right">NVL</th>
<th scope="col" class="org-right">NULL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Grant</td>
<td class="org-right">7000</td>
<td class="org-right">.15</td>
<td class="org-right">85050</td>
<td class="org-right">85050</td>
</tr>

<tr>
<td class="org-left">Jhonson</td>
<td class="org-right">6200</td>
<td class="org-right">.1</td>
<td class="org-right">75020</td>
<td class="org-right">75020</td>
</tr>

<tr>
<td class="org-left">Taylor</td>
<td class="org-right">3200</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">38400</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Fleaur</td>
<td class="org-right">3100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">37200</td>
<td class="org-right">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-orgf7f225a" class="outline-3">
<h3 id="orgf7f225a"><span class="section-number-3">4.9</span> Función DECODE</h3>
<div class="outline-text-3" id="text-4-9">
<p>
Facilita condiciones haciendo el trabajo de un <code>IF-THEN-ELSE</code>.
</p>
<div class="org-src-container">
<pre class="src src-sql">DECODE <span style="color: #61bfff;">(</span>columna/expresi&#243;n, condici&#243;n <span style="color: #bd93f9; font-weight: bold;">1</span>, resultado <span style="color: #bd93f9; font-weight: bold;">1</span>
                           <span style="color: #ff79c6;">[</span>condici&#243;n <span style="color: #bd93f9; font-weight: bold;">2</span>, resultado <span style="color: #bd93f9; font-weight: bold;">2</span>, ...
                           , <span style="color: #ff79c6; font-style: italic;">default</span><span style="color: #ff79c6;">]</span><span style="color: #61bfff;">)</span>
</pre>
</div>
</div>

<div id="outline-container-org1faf97f" class="outline-4">
<h4 id="org1faf97f"><span class="section-number-4">4.9.1</span> Ejemplo</h4>
<div class="outline-text-4" id="text-4-9-1">
<p>
Con la consulta:
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    job_id,
    salary,
    DECODE <span style="color: #61bfff;">(</span>SUBSTR<span style="color: #ff79c6;">(</span>job_id, <span style="color: #bd93f9; font-weight: bold;">4</span>, <span style="color: #bd93f9; font-weight: bold;">3</span><span style="color: #ff79c6;">)</span>,   <span style="color: #f1fa8c;">'MAN'</span>, salary*<span style="color: #bd93f9; font-weight: bold;">1.20</span>,
                                    <span style="color: #f1fa8c;">'CLE'</span>, salary*<span style="color: #bd93f9; font-weight: bold;">1.15</span>,
                                    <span style="color: #f1fa8c;">'REP'</span>, salary*<span style="color: #bd93f9; font-weight: bold;">1.10</span>,
                                           salary<span style="color: #61bfff;">)</span> <span style="color: #ff79c6; font-style: italic;">AS</span> "Salario Ajustado"
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees;
</pre>
</div>

<p>
Obtenemos la tabla:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">job<sub>id</sub></th>
<th scope="col" class="org-right">salary</th>
<th scope="col" class="org-right">Salario Ajustado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">SH<sub>CLERK</sub></td>
<td class="org-right">2600</td>
<td class="org-right">2990</td>
</tr>

<tr>
<td class="org-left">AD<sub>ASST</sub></td>
<td class="org-right">4400</td>
<td class="org-right">4400</td>
</tr>

<tr>
<td class="org-left">MK<sub>MAN</sub></td>
<td class="org-right">13000</td>
<td class="org-right">15600</td>
</tr>

<tr>
<td class="org-left">HR<sub>REP</sub></td>
<td class="org-right">6000</td>
<td class="org-right">6600</td>
</tr>

<tr>
<td class="org-left">AC<sub>MGR</sub></td>
<td class="org-right">12000</td>
<td class="org-right">12000</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org2addd4b" class="outline-3">
<h3 id="org2addd4b"><span class="section-number-3">4.10</span> Anidando Funciones</h3>
<div class="outline-text-3" id="text-4-10">
<ul class="org-ul">
<li>Las funciones sobre filas individuales pueden ser anidadas a cualquier nivel.</li>
<li>Las funciones anidadas son evaluadas del nivel más interno al más externo.
<ul class="org-ul">
<li><code>F3(F2(F1(col,arg1),arg2),arg3)</code></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org09c4313" class="outline-2">
<h2 id="org09c4313"><span class="section-number-2">5</span> DML: Obteniendo Información de Múltiples Tablas</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org8c283fd" class="outline-3">
<h3 id="org8c283fd"><span class="section-number-3">5.1</span> ¿Qué es una reunión? (JOIN)</h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li>Se usa para consultar información de múltiples tablas.</li>
<li>La condición de reunión se escribe en la clausula <code>WHERE</code>.</li>
<li>El número de condiciones depende de dos cosas:
<ul class="org-ul">
<li>El número de tablas listadas en la clausula <code>FROM</code></li>
<li>De los atributos en común que tengan las tablas.</li>
</ul></li>
<li>Si las tablas solo tienen un solo atributo en común las condiciones dependen del número de tablas.
<ul class="org-ul">
<li>Sea \(n\) el numero de de tablas en la clausula <code>FROM</code>.</li>
<li>El número de condiciones de reunión serán \(n-1\).</li>
</ul></li>
</ul>

<p>
Ejemplo:
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    tabla1.columna1,
    tabla2.columna1
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    tabla1, tabla2
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    tabla1.columna_comun = tabla2.columna_comun;
</pre>
</div>
</div>

<div id="outline-container-org7b7730f" class="outline-4">
<h4 id="org7b7730f"><span class="section-number-4">5.1.1</span> Producto cartesiano</h4>
<div class="outline-text-4" id="text-5-1-1">
<p>
Se forma cuando:
</p>
<ul class="org-ul">
<li>Se omite la condición de reunión.</li>
<li>La condición de reunión es inválida.</li>
<li>Todas las filas de la primer tabla se reúnen con todas las filas de la segunda tabla.</li>
</ul>

<p>
Para evitar un producto cartesiano, siempre se debe incluir una condición de reunión valida
en el <code>WHERE</code>.
</p>
</div>
<ol class="org-ol">
<li><a id="orgce7b532"></a>Ejemplo<br />
<div class="outline-text-5" id="text-5-1-1-1">
<p>
Si generamos un producto cartesiano de las tablas employees.last<sub>name</sub> (107 Filas) y departmens.department<sub>name</sub> (27 Filas)
Obtenemos una tabla resultante con 2849 filas ya que \(107 \cdot 27 = 2849\), dando una consulta seguramente incorrecta.
</p>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org758b5d9" class="outline-3">
<h3 id="org758b5d9"><span class="section-number-3">5.2</span> Tipos de reuniones</h3>
<div class="outline-text-3" id="text-5-2">
</div>
<div id="outline-container-org841e396" class="outline-4">
<h4 id="org841e396"><span class="section-number-4">5.2.1</span> Equi join</h4>
<div class="outline-text-4" id="text-5-2-1">
<p>
Unimos dos tablas con un operador de igualdad, retornando solo las filas que coinciden en ambas tablas.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    E.employee_id,
    E.last_name,
    E.department_id,
    D.department_name,
    D.location
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees E, departments D
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    E.department_id = D.department_id;
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org5b687b0"></a>Uniendo más de dos tablas<br />
<div class="outline-text-5" id="text-5-2-1-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    E.employee_id,
    E.last_name,
    E.department_id,
    D.department_name,
    D.location_id,
    L.city
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees E, departmens D, locations L
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    E.department_id = D.department_id
    <span style="color: #ff79c6; font-style: italic;">AND</span> D.location_id = L.location_id;
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgef762c1" class="outline-4">
<h4 id="orgef762c1"><span class="section-number-4">5.2.2</span> Non-equi join</h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
Usan operadores de comparación en lugar de los operadores de igualdad, además de condiciones.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    E.last_name,
    E.salary,
    S.grade
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees E, salary_grades S
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    E.salary <span style="color: #ff79c6; font-style: italic;">BETWEEN</span> S.low <span style="color: #ff79c6; font-style: italic;">AND</span> S.high;
</pre>
</div>
</div>
</div>

<div id="outline-container-orge5f79c4" class="outline-4">
<h4 id="orge5f79c4"><span class="section-number-4">5.2.3</span> Outer join</h4>
<div class="outline-text-4" id="text-5-2-3">
<p>
Se usan para ver las filas que usualmente no se muestran con las condiciones de reunión (Como valores nulos).
</p>
<ul class="org-ul">
<li>El simbolo del Outher join en oracle es (+), En otros manejadores puede ser *.</li>
</ul>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    table1.<span style="color: #ff79c6; font-style: italic;">column</span>,
    table1.<span style="color: #ff79c6; font-style: italic;">column</span>
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    table1, table2
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    table1.<span style="color: #ff79c6; font-style: italic;">column</span><span style="color: #61bfff;">(</span>+<span style="color: #61bfff;">)</span> = table2.<span style="color: #ff79c6; font-style: italic;">column</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org744f839" class="outline-4">
<h4 id="org744f839"><span class="section-number-4">5.2.4</span> Self join</h4>
<div class="outline-text-4" id="text-5-2-4">
<p>
Se usan para unir una tabla con ella misma, usando alias diferentes.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    E.last_name||<span style="color: #f1fa8c;">' tabaja para '</span>||J.last_name
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees E, employees J
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    E.manager_id = J.manager_id;
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org899b413" class="outline-2">
<h2 id="org899b413"><span class="section-number-2">6</span> DML: Funciones de Agregación</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org0c45572" class="outline-3">
<h3 id="org0c45572"><span class="section-number-3">6.1</span> Funciones de grupo</h3>
<div class="outline-text-3" id="text-6-1">
<p>
Operan en un conjunto de filas para dar resultados por grupo.
</p>
<ul class="org-ul">
<li>Las funciones <code>MIN</code> y <code>MAX</code> pueden usarse con cualquer tipo de dato.</li>
<li>Las funciones de grupo ignoran los valores nulos, por lo que es necesario el uso de la función <code>NVL</code>.</li>
</ul>

<p>
Funciones de grupo:
</p>
<ul class="org-ul">
<li><code>COUNT</code> : Cuenta los elementos.</li>
<li><code>MAX</code> : El máximo elemento.</li>
<li><code>MIN</code> : El mínimo elemento.</li>
<li><code>AVG</code> : Promedio.</li>
<li><code>VARIANCE</code> : Varianza.</li>
<li><code>STDDEV</code> : Desviación estándar.</li>
</ul>
</div>
</div>
<div id="outline-container-org1402a3d" class="outline-3">
<h3 id="org1402a3d"><span class="section-number-3">6.2</span> Funciones con Argumentos Númericos</h3>
<div class="outline-text-3" id="text-6-2">
<p>
Las funciones <code>AVR</code>, <code>SUM</code>, <code>MAX</code>, y <code>MIN</code> se pueden usar para datos númericos.
</p>

<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    AVR<span style="color: #61bfff;">(</span>salary<span style="color: #61bfff;">)</span>,
    <span style="color: #ffb86c;">SUM</span><span style="color: #61bfff;">(</span>salary<span style="color: #61bfff;">)</span>,
    <span style="color: #ffb86c;">MAX</span><span style="color: #61bfff;">(</span>salary<span style="color: #61bfff;">)</span>,
    <span style="color: #ffb86c;">MIN</span><span style="color: #61bfff;">(</span>salary<span style="color: #61bfff;">)</span>
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees;
</pre>
</div>
</div>
</div>

<div id="outline-container-org8540b74" class="outline-3">
<h3 id="org8540b74"><span class="section-number-3">6.3</span> Función COUNT</h3>
<div class="outline-text-3" id="text-6-3">
<p>
<code>COUNT(*)</code> Retorna el número de filas de una columna.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    <span style="color: #ffb86c;">COUNT</span><span style="color: #61bfff;">(</span>*<span style="color: #61bfff;">)</span>
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees;
</pre>
</div>

<p>
Podemos contar los valores únicos.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    <span style="color: #ffb86c;">COUNT</span><span style="color: #61bfff;">(</span><span style="color: #ff79c6; font-style: italic;">DISTINCT</span> last_name<span style="color: #61bfff;">)</span>
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgda9e1ff" class="outline-3">
<h3 id="orgda9e1ff"><span class="section-number-3">6.4</span> Creando grupos de datos</h3>
<div class="outline-text-3" id="text-6-4">
<p>
Podemos dividir las filas de una columna en grupos más pequeños con la cláusula <code>GROUP BY</code>.
</p>
<ul class="org-ul">
<li>Si incluyes una función de grupo en la cláusula <code>SELECT</code>, <b>no</b> puedes seleccionar los resultados
individuales, a menos que la columna individual aparezca en la cláusula <code>GROUP BY</code>, de lo contrario
obtendras un error.</li>
<li>Usa la cláusula <code>WHERE</code> para pre-excluir las filas que no necesites, antes de crear los grupos.</li>
<li>No se pueden usar los alias de las columnas en la cláusula <code>GROUP BY</code>.</li>
<li>Se pueden ordenar las columnas con la cáusula <code>ORDER BY</code>, que siempre debe de ser la última cáusula.</li>
</ul>
</div>
<div id="outline-container-org1ce7d21" class="outline-4">
<h4 id="org1ce7d21"><span class="section-number-4">6.4.1</span> Ejemplo</h4>
<div class="outline-text-4" id="text-6-4-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    departments_id,
    <span style="color: #ffb86c;">AVG</span><span style="color: #61bfff;">(</span>salary<span style="color: #61bfff;">)</span>
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">GROUP</span> <span style="color: #ff79c6; font-style: italic;">BY</span>
    department_id;
</pre>
</div>
<p>
También es posible agrupar usando multiples columnas.
</p>
</div>
</div>

<div id="outline-container-orgb54b31f" class="outline-4">
<h4 id="orgb54b31f"><span class="section-number-4">6.4.2</span> Consultas Ilegales</h4>
<div class="outline-text-4" id="text-6-4-2">
<ul class="org-ul">
<li>Cualquier columna o expreción en la lista del <code>SELECT</code>, que no se encuentre en una función de grupo,
debe de ir en la lista <code>GROUP BY</code></li>
<li>No puedes usar la cláusula <code>WHERE</code> para filtrar grupos, en ese caso debes de usar la cláusula <code>HAVING</code>.</li>
</ul>
</div>
</div>
<div id="outline-container-org0a672ba" class="outline-4">
<h4 id="org0a672ba"><span class="section-number-4">6.4.3</span> Cláusula HAVING</h4>
<div class="outline-text-4" id="text-6-4-3">
<p>
Los grupos que coincidan con la condición <code>HAVING</code> serán mostrados.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #6272a4; font-style: italic;">-- Estructura --</span>
<span style="color: #ff79c6; font-style: italic;">SELECT</span>
    <span style="color: #ff79c6; font-style: italic;">column</span>, funci&#243;n_de_grupo<span style="color: #61bfff;">(</span><span style="color: #ff79c6; font-style: italic;">column</span><span style="color: #61bfff;">)</span>
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    <span style="color: #ff79c6; font-style: italic;">table</span>
<span style="color: #61bfff;">[</span><span style="color: #ff79c6; font-style: italic;">WHERE</span>
    condition<span style="color: #61bfff;">]</span>
<span style="color: #61bfff;">[</span><span style="color: #ff79c6; font-style: italic;">GROUP</span> <span style="color: #ff79c6; font-style: italic;">BY</span>
    agrupar_por_expresi&#243;n<span style="color: #61bfff;">]</span>
<span style="color: #61bfff;">[</span><span style="color: #ff79c6; font-style: italic;">HAVING</span>
    condici&#243;n<span style="color: #61bfff;">]</span>
<span style="color: #61bfff;">[</span><span style="color: #ff79c6; font-style: italic;">ORDER</span> <span style="color: #ff79c6; font-style: italic;">BY</span>
    <span style="color: #ff79c6; font-style: italic;">column</span><span style="color: #61bfff;">]</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org6da5419"></a>Ejemplo<br />
<div class="outline-text-5" id="text-6-4-3-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    department_name <span style="color: #ff79c6; font-style: italic;">AS</span> "Departamento",
    <span style="color: #ffb86c;">sum</span><span style="color: #61bfff;">(</span>salary<span style="color: #61bfff;">)</span> <span style="color: #ff79c6; font-style: italic;">AS</span> "Nomina Total"
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees E, departments D
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    E.department_id = D.department_id
<span style="color: #ff79c6; font-style: italic;">GROUP</span> <span style="color: #ff79c6; font-style: italic;">BY</span>
    department_name
<span style="color: #ff79c6; font-style: italic;">HAVING</span>
    <span style="color: #ffb86c;">sum</span><span style="color: #61bfff;">(</span>salary<span style="color: #61bfff;">)</span> &lt; <span style="color: #bd93f9; font-weight: bold;">1500</span>
<span style="color: #ff79c6; font-style: italic;">ORDER</span> <span style="color: #ff79c6; font-style: italic;">BY</span>
    "Nomina Total";
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org466ac5a" class="outline-2">
<h2 id="org466ac5a"><span class="section-number-2">7</span> DML: Subconsultas</h2>
<div class="outline-text-2" id="text-7">
<p>
Permiten ejecutar una consulta más pequeña dentro de una consulta.
</p>

<p>
Guia para el uso de las subconsultas:
</p>
<ul class="org-ul">
<li>Siempre deben de ir encerradas entre parentesís.</li>
<li>Se deben de ubicar el lado <b>derecho</b> del operador de comparación.</li>
<li>No agregar la cláusula <code>ORDER BY</code> dentro de una subconsulta.</li>
<li>Usar operadores sobre filas individuales con subconsultas que regresen filas individuales.</li>
<li>Usar operadores sobre múltiples filas con subconsultas que regresen múltiples filas.</li>
</ul>
</div>
<div id="outline-container-org236a8f2" class="outline-3">
<h3 id="org236a8f2"><span class="section-number-3">7.1</span> Subconsultas de Una Sola Fila</h3>
<div class="outline-text-3" id="text-7-1">
<ul class="org-ul">
<li>Regresan una sola fila.</li>
<li>Usan operadores de comparación sobre filas individuales.</li>
</ul>
</div>
<div id="outline-container-orgbefd7b9" class="outline-4">
<h4 id="orgbefd7b9"><span class="section-number-4">7.1.1</span> Ejemplo</h4>
<div class="outline-text-4" id="text-7-1-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name||<span style="color: #f1fa8c;">' '</span>||first_name <span style="color: #ff79c6; font-style: italic;">AS</span> "Empleado",
    job_id,
    salary
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    job_id =    <span style="color: #61bfff;">(</span><span style="color: #ff79c6; font-style: italic;">SELECT</span>
                    job_id,
                <span style="color: #ff79c6; font-style: italic;">FROM</span>
                    employees
                <span style="color: #ff79c6; font-style: italic;">WHERE</span>
                    employee_id = <span style="color: #bd93f9; font-weight: bold;">103</span><span style="color: #61bfff;">)</span>
    <span style="color: #ff79c6; font-style: italic;">AND</span> salary &gt;    <span style="color: #61bfff;">(</span><span style="color: #ff79c6; font-style: italic;">SELECT</span>
                        salary
                    <span style="color: #ff79c6; font-style: italic;">FROM</span>
                        employees
                    <span style="color: #ff79c6; font-style: italic;">WHERE</span>
                        employee_id = <span style="color: #bd93f9; font-weight: bold;">203</span><span style="color: #61bfff;">)</span>;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgefd62ba" class="outline-3">
<h3 id="orgefd62ba"><span class="section-number-3">7.2</span> Subconsultas de Múltiples filas</h3>
<div class="outline-text-3" id="text-7-2">
<ul class="org-ul">
<li>Regresan más de una sola fila.</li>
<li>Usan comparaciones de comparación sobre múltiples filas.</li>
</ul>

<p>
Operadores de comparación en Múltiples columas:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Operador</th>
<th scope="col" class="org-left">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>IN</code></td>
<td class="org-left">Igual a cualquer elemento de la lista</td>
</tr>

<tr>
<td class="org-left"><code>ANY</code></td>
<td class="org-left">Compara el valor con cada uno de los valores que retorna la consulta</td>
</tr>

<tr>
<td class="org-left"><code>ALL</code></td>
<td class="org-left">Compara el valor con todos los valores dados por la subconsulta</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-org2231c23" class="outline-4">
<h4 id="org2231c23"><span class="section-number-4">7.2.1</span> Ejemplo</h4>
<div class="outline-text-4" id="text-7-2-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    employee_id,
    last_name,
    job_id,
    salary
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    salary &lt; <span style="color: #ff79c6; font-style: italic;">ANY</span> <span style="color: #61bfff;">(</span>
                <span style="color: #ff79c6; font-style: italic;">SELECT</span>
                    salary
                <span style="color: #ff79c6; font-style: italic;">FROM</span>
                    employees
                <span style="color: #ff79c6; font-style: italic;">WHERE</span>
                    job_id <span style="color: #ff79c6; font-style: italic;">LIKE</span> <span style="color: #f1fa8c;">'%_REP'</span><span style="color: #61bfff;">)</span>
    <span style="color: #ff79c6; font-style: italic;">AND</span> job_id <span style="color: #ff79c6; font-style: italic;">NOT</span> <span style="color: #ff79c6; font-style: italic;">LIKE</span> <span style="color: #f1fa8c;">'%_REP'</span>
<span style="color: #ff79c6; font-style: italic;">ORDER</span> <span style="color: #ff79c6; font-style: italic;">BY</span>
    salary;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb9a3f9e" class="outline-3">
<h3 id="orgb9a3f9e"><span class="section-number-3">7.3</span> Subconsultas de múltiples columnas</h3>
<div class="outline-text-3" id="text-7-3">
<p>
La consulta principal compara con los valores de una subconsulta que devuelve múltiples filas y
columas.
</p>
</div>
<div id="outline-container-org90e0a7b" class="outline-4">
<h4 id="org90e0a7b"><span class="section-number-4">7.3.1</span> Ejemplo</h4>
<div class="outline-text-4" id="text-7-3-1">
<p>
Muestra el apellido, la fecha de contratación, el salario y el número de departamento de cualquier
empleado que coincida en fecha de contratación y salario con cualquier subordinado del empleado 100.
</p>

<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    last_name,
    hire_date,
    salary,
    department_id
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    <span style="color: #61bfff;">(</span>hire_date, salary<span style="color: #61bfff;">)</span> <span style="color: #ff79c6; font-style: italic;">IN</span> <span style="color: #61bfff;">(</span><span style="color: #ff79c6; font-style: italic;">SELECT</span>
                                hire_date,
                                salary
                            <span style="color: #ff79c6; font-style: italic;">FROM</span>
                                employees
                            <span style="color: #ff79c6; font-style: italic;">WHERE</span>
                                manager_id=<span style="color: #bd93f9; font-weight: bold;">100</span><span style="color: #61bfff;">)</span>
<span style="color: #ff79c6; font-style: italic;">ORDER</span> <span style="color: #ff79c6; font-style: italic;">BY</span>
    last_name;
</pre>
</div>
</div>
</div>

<div id="outline-container-org851c6d7" class="outline-4">
<h4 id="org851c6d7"><span class="section-number-4">7.3.2</span> Subconsultas en la cáusula FROM</h4>
<div class="outline-text-4" id="text-7-3-2">
<p>
Se pueden hacer subconsultas en la cláusula <code>FROM</code>, esto lleva a la creación de una tabla temporal en el buffer.
</p>

<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    a.last_name,
    a.salary
    a.department_id,
    b.salavg
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees a,    <span style="color: #61bfff;">(</span><span style="color: #ff79c6; font-style: italic;">SELECT</span>
                        department_id,
                        <span style="color: #ffb86c;">AVG</span><span style="color: #ff79c6;">(</span>salary<span style="color: #ff79c6;">)</span> salavg
                    <span style="color: #ff79c6; font-style: italic;">FROM</span>
                        employees
                    <span style="color: #ff79c6; font-style: italic;">GROUP</span> <span style="color: #ff79c6; font-style: italic;">BY</span>
                        department_id<span style="color: #61bfff;">)</span> b
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    a.department_id = b.department_id
    <span style="color: #ff79c6; font-style: italic;">AND</span> a.salary &gt; b.salavg;
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org333e54e" class="outline-2">
<h2 id="org333e54e"><span class="section-number-2">8</span> DML: Creando y Manipulando Objetos de la Base de Datos</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-orged2dd15" class="outline-3">
<h3 id="orged2dd15"><span class="section-number-3">8.1</span> Creando una tabla usando consultas</h3>
<div class="outline-text-3" id="text-8-1">
<p>
Si el manejador tiene la opción de copiado masivo de datos (<i>Bulk Copy</i>),
es posible crear tablas (temporales o permanentes) al momento de realizar una consulta.
</p>
</div>
<div id="outline-container-orga121a4c" class="outline-4">
<h4 id="orga121a4c"><span class="section-number-4">8.1.1</span> Ejemplo: Creando tablas permanentes</h4>
<div class="outline-text-4" id="text-8-1-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    * <span style="color: #ff79c6; font-style: italic;">INTO</span> depto100
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
   department_id = <span style="color: #bd93f9; font-weight: bold;">100</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orge5b3a82" class="outline-4">
<h4 id="orge5b3a82"><span class="section-number-4">8.1.2</span> Ejemplo: Creando tablas temporales</h4>
<div class="outline-text-4" id="text-8-1-2">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SELECT</span>
    * <span style="color: #ff79c6; font-style: italic;">INTO</span> #depto100
<span style="color: #ff79c6; font-style: italic;">FROM</span>
    employees
<span style="color: #ff79c6; font-style: italic;">WHERE</span>
    department_id = <span style="color: #bd93f9; font-weight: bold;">100</span>;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1c24e72" class="outline-3">
<h3 id="org1c24e72"><span class="section-number-3">8.2</span> Creando una tabla usando Subconsultas</h3>
<div class="outline-text-3" id="text-8-2">
<p>
Una tabla puede ser llenada combinando la cláusula <code>CREATE TABLE</code> y una subconsulta.
</p>
<ul class="org-ul">
<li>Si especificas columas, debes de hacer coincidir el número de columas definidas
con las columas regresadas por la subconsulta.</li>
<li>Se definen nombres de consultas y valores</li>
</ul>
</div>
<div id="outline-container-orgbbc213d" class="outline-4">
<h4 id="orgbbc213d"><span class="section-number-4">8.2.1</span> Ejemplo</h4>
<div class="outline-text-4" id="text-8-2-1">
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">CREATE</span> <span style="color: #ff79c6; font-style: italic;">TABLE</span> <span style="color: #50fa7b;">depto30</span> <span style="color: #ff79c6; font-style: italic;">AS</span>
    <span style="color: #61bfff;">(</span><span style="color: #ff79c6; font-style: italic;">SELECT</span>
        employee_id empno,
        last_name,
        first_name
        salary*<span style="color: #bd93f9; font-weight: bold;">12</span> salanual,
        hire_date hiredate
    <span style="color: #ff79c6; font-style: italic;">FROM</span>
        employees
    <span style="color: #ff79c6; font-style: italic;">WHERE</span>
        department_id = <span style="color: #bd93f9; font-weight: bold;">30</span><span style="color: #61bfff;">)</span>;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org864d1fe" class="outline-3">
<h3 id="org864d1fe"><span class="section-number-3">8.3</span> Vistas</h3>
<div class="outline-text-3" id="text-8-3">
<p>
Es un objeto de la Base de Datos que es una representación lógica de subconjuntos de
datos de una o más tablas.
</p>
</div>
<div id="outline-container-org635f267" class="outline-4">
<h4 id="org635f267"><span class="section-number-4">8.3.1</span> ¿Por qué vistas?</h4>
<div class="outline-text-4" id="text-8-3-1">
<ul class="org-ul">
<li>Para restringir el acceso a ciertos objetos de la base de datos.</li>
<li>Para simplificar consultas complejas.</li>
<li>Para permitir independencia de datos.</li>
<li>Para personalizar la forma en que se muestran los mismos datos según la necesidad
de cada tipo de usuario.</li>
</ul>
</div>
</div>
<div id="outline-container-org201472e" class="outline-4">
<h4 id="org201472e"><span class="section-number-4">8.3.2</span> Estructura de las vistas</h4>
<div class="outline-text-4" id="text-8-3-2">
<ul class="org-ul">
<li>Se incluye una subconsulta en el esta <code>CREATE VIEW</code></li>
<li>La subconsulta puede contener sintaxis compleja, incluyendo <i>joins</i>, subconsultas y grupos.</li>
<li>La subconsulta <b>no</b> debe contener la cláusula <code>ORDER BY</code>.</li>
</ul>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">CREATE</span> <span style="color: #61bfff;">[</span><span style="color: #ff79c6; font-style: italic;">OR</span> REPLACE<span style="color: #61bfff;">]</span> <span style="color: #61bfff;">[</span>FORCE|NONFORCE<span style="color: #61bfff;">]</span> <span style="color: #ff79c6; font-style: italic;">VIEW</span> <span style="color: #ff79c6; font-style: italic;">view</span>
       <span style="color: #61bfff;">[</span><span style="color: #ff79c6;">(</span><span style="color: #ff79c6; font-style: italic;">alias</span><span style="color: #50fa7b;">[</span>,<span style="color: #ff79c6; font-style: italic;">alias</span><span style="color: #50fa7b;">]</span>...<span style="color: #ff79c6;">)</span><span style="color: #61bfff;">]</span>
<span style="color: #ff79c6; font-style: italic;">AS</span> subconsulta
<span style="color: #61bfff;">[</span><span style="color: #ff79c6; font-style: italic;">WITH</span> <span style="color: #ff79c6; font-style: italic;">CHECK</span> <span style="color: #ff79c6; font-style: italic;">OPTION</span> <span style="color: #ff79c6;">[</span><span style="color: #ff79c6; font-style: italic;">CONSTRAINT</span> restricci&#243;n<span style="color: #ff79c6;">]</span><span style="color: #61bfff;">]</span>
<span style="color: #61bfff;">[</span><span style="color: #ff79c6; font-style: italic;">WITH</span> <span style="color: #ff79c6; font-style: italic;">READ</span> <span style="color: #ff79c6; font-style: italic;">ONLY</span><span style="color: #61bfff;">]</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org26d0a52" class="outline-4">
<h4 id="org26d0a52"><span class="section-number-4">8.3.3</span> Creando vistas</h4>
<div class="outline-text-4" id="text-8-3-3">
<p>
Crea una vista, <code>EMPVU10</code>, que contenga los detalles de los empleados del departamento 90.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">CREATE</span> <span style="color: #ff79c6; font-style: italic;">VIEW</span> <span style="color: #50fa7b;">vw_emp90</span>
<span style="color: #ff79c6; font-style: italic;">AS</span>
    <span style="color: #ff79c6; font-style: italic;">SELECT</span>
        employee_id,
        last_name,
        job_id
    <span style="color: #ff79c6; font-style: italic;">FROM</span>
        employees
    <span style="color: #ff79c6; font-style: italic;">WHERE</span>
        department_id = <span style="color: #bd93f9; font-weight: bold;">90</span>;
</pre>
</div>

<p>
Puedes describir la estructura de la vista usando el comando <code>DESCRIBE</code>.
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">DESCRIBE</span> vw_emp90
</pre>
</div>
</div>
</div>

<div id="outline-container-org1a4bfdb" class="outline-4">
<h4 id="org1a4bfdb"><span class="section-number-4">8.3.4</span> Tipos de vistas</h4>
<div class="outline-text-4" id="text-8-3-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">caracteristicas</th>
<th scope="col" class="org-left">vistas simples</th>
<th scope="col" class="org-left">vistas complejas</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Número de tablas</td>
<td class="org-left">Una</td>
<td class="org-left">Una o más</td>
</tr>

<tr>
<td class="org-left">Contiene funciones</td>
<td class="org-left">No</td>
<td class="org-left">Si</td>
</tr>

<tr>
<td class="org-left">Contiene Grupos de datos</td>
<td class="org-left">No</td>
<td class="org-left">Si</td>
</tr>

<tr>
<td class="org-left">DML a través de la vista</td>
<td class="org-left">Si</td>
<td class="org-left">No siempre</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org6c58545" class="outline-4">
<h4 id="org6c58545"><span class="section-number-4">8.3.5</span> Modificando una Vista</h4>
</div>
</div>
</div>
<div id="outline-container-orge47cddf" class="outline-2">
<h2 id="orge47cddf"><span class="section-number-2">9</span> DML: Producir impresiones legibles con SQL*Plus</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-orge71e939" class="outline-3">
<h3 id="orge71e939"><span class="section-number-3">9.1</span> Posibilidades de edición</h3>
<div class="outline-text-3" id="text-9-1">
<ul class="org-ul">
<li>SQL*Plus almacena un buffer con la última sentencia SQL introducida.</li>
<li>Esta sentencia puede ser recuperada para ejecutarla de nuevo con los comandos
<ul class="org-ul">
<li><code>RUN</code> Visualiza la sentencia antes de ejecutarla.</li>
<li><code>/</code> Ejecuta la sentencia sin visualizarla.</li>
</ul></li>
<li>También podemos editar la sentencia SQL mediante un editor en línea.
<ul class="org-ul">
<li><code>APPEND texto</code> Añade texto al final de la linea.</li>
<li><code>CHANGE/fuente/destino</code> Cambia &rsquo;fuente&rsquo; por &rsquo;destino&rsquo;.
<ul class="org-ul">
<li><code>CHANGE/texto</code> Quita &rsquo;texto&rsquo; de una linea.</li>
</ul></li>
<li><code>CLEAR BUFFER</code> borra el buffer.</li>
<li><code>INPUT</code> inserta una o más lineas.</li>
</ul></li>
<li>Podemos acceder desde el editor del sistema operativo al buffer.
<ul class="org-ul">
<li>Necesitamos definir la variable <code>define_editor</code> Ej. <code>define_editor=vim</code></li>
<li>Accedemos al buffer con el comando <code>edit</code>.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orga7d0614" class="outline-3">
<h3 id="orga7d0614"><span class="section-number-3">9.2</span> Archivos SPOOL y SQL</h3>
<div class="outline-text-3" id="text-9-2">
<ul class="org-ul">
<li>SQL*Plus considera dos tipos de archivos, SPOOL y de comandos.
<ul class="org-ul">
<li>Un archivo SPOOL almacena los comandos y resultados de una o varias consultas.
<ul class="org-ul">
<li><code>SPOOL archivo</code> Iniciamos SPOOL indicando el nombre del archivo de salida.</li>
<li><code>SPOOL OUT</code> Manda el archivo SPOOL a la impresora.</li>
<li><code>SPOOL OOF</code> Cierra el archivo SPOOL.</li>
<li><code>EXIT</code> Al salir de la sección se cierran los archivos SPOOL.</li>
</ul></li>
<li>Los archivos de comando almacenan instrucciones SQL y tiene de exención <code>.sql</code>.
<ul class="org-ul">
<li>Para editarlo se usa el comando <code>EDIT</code>.</li>
<li>Para ejecutarlo se usa el comando <code>START archivo</code> o <code>@archivo</code>.</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orge323c7f" class="outline-3">
<h3 id="orge323c7f"><span class="section-number-3">9.3</span> Variables de sustitución</h3>
<div class="outline-text-3" id="text-9-3">
<ul class="org-ul">
<li>SQL*PLUS puede utilizar el <code>&amp;</code> para guardar valores temporalmente.
<ul class="org-ul">
<li>Pueden ser predefinidas con los comandos:
<ul class="org-ul">
<li><code>ACEPT</code> Lee la linea de entrada y la almacena en una variable.</li>
<li><code>DEFINE</code>  Crea y asigna el valor en una variable.</li>
</ul></li>
<li>Estas variables pueden ser usadas de manera interactivamente en el <code>WHERE</code>.
<ul class="org-ul">
<li>Alterar títulos.</li>
<li>Obtener valores de entrada.</li>
<li>Valores de paso, Tomar valores de una secuencia SQL a otra.</li>
<li><p>
Ejemplo:
</p>

<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SQL</span>&gt; <span style="color: #ff79c6; font-style: italic;">SELECT</span> empno, ename, sal, depto
<span style="color: #ff79c6; font-style: italic;">FROM</span> emp
<span style="color: #ff79c6; font-style: italic;">WHERE</span> empno = &amp;employee_num;

Enter <span style="color: #ff79c6; font-style: italic;">value</span> <span style="color: #ff79c6; font-style: italic;">for</span> employee_num: <span style="color: #bd93f9; font-weight: bold;">7369</span>

EMPNO ENAME SAL  DEPTNO
<span style="color: #6272a4; font-style: italic;">----- ----- --- --------</span>
<span style="color: #bd93f9; font-weight: bold;">7369</span>  SMITH <span style="color: #bd93f9; font-weight: bold;">800</span>       <span style="color: #bd93f9; font-weight: bold;">20</span>

<span style="color: #ff79c6; font-style: italic;">SQL</span>&gt; define oficio=Analista
<span style="color: #ff79c6; font-style: italic;">SQL</span>&gt; define tabla=emp
<span style="color: #ff79c6; font-style: italic;">SQL</span>&gt; <span style="color: #ff79c6; font-style: italic;">select</span> nombre,job <span style="color: #ff79c6; font-style: italic;">from</span> &amp;tabla <span style="color: #ff79c6; font-style: italic;">where</span> job=<span style="color: #f1fa8c;">'&amp;oficio'</span>;
<span style="color: #ff79c6; font-style: italic;">old</span>   <span style="color: #bd93f9; font-weight: bold;">1</span>: <span style="color: #ff79c6; font-style: italic;">select</span> nombre, oficio <span style="color: #ff79c6; font-style: italic;">from</span> &amp;tabla <span style="color: #ff79c6; font-style: italic;">where</span> oficio=<span style="color: #f1fa8c;">'&amp;oficio'</span>
<span style="color: #ff79c6; font-style: italic;">new</span>   <span style="color: #bd93f9; font-weight: bold;">1</span>: <span style="color: #ff79c6; font-style: italic;">select</span> nombre, oficio <span style="color: #ff79c6; font-style: italic;">from</span> emp <span style="color: #ff79c6; font-style: italic;">where</span> oficio=<span style="color: #f1fa8c;">'Analista'</span>
</pre>
</div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org34cb848" class="outline-3">
<h3 id="org34cb848"><span class="section-number-3">9.4</span> Comando <code>SET VERIFY</code></h3>
<div class="outline-text-3" id="text-9-4">
<ul class="org-ul">
<li>Se usa para confirmar los cambios de las sentencias SQL.
<ul class="org-ul">
<li><p>
Obliga a SQL*PLUS a desplegar el valor de las variables antes y despues de reemplazar.
</p>

<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SQL</span>&gt; <span style="color: #ff79c6; font-style: italic;">SET</span> VERIFY <span style="color: #ff79c6; font-style: italic;">ON</span>
<span style="color: #ff79c6; font-style: italic;">SQL</span>&gt; <span style="color: #ff79c6; font-style: italic;">SELECT</span> empno, ename, sal, deptno
   <span style="color: #bd93f9; font-weight: bold;">2</span> <span style="color: #ff79c6; font-style: italic;">FROM</span> emp
   <span style="color: #bd93f9; font-weight: bold;">3</span> <span style="color: #ff79c6; font-style: italic;">WHERE</span> empno= &amp;employee_num;

Enter <span style="color: #ff79c6; font-style: italic;">value</span> <span style="color: #ff79c6; font-style: italic;">for</span> employee_num: <span style="color: #bd93f9; font-weight: bold;">7369</span>

<span style="color: #ff79c6; font-style: italic;">Old</span>  <span style="color: #bd93f9; font-weight: bold;">3</span>: <span style="color: #ff79c6; font-style: italic;">WHERE</span> empno=&amp;employee_num
<span style="color: #ff79c6; font-style: italic;">New</span>  <span style="color: #bd93f9; font-weight: bold;">3</span>: <span style="color: #ff79c6; font-style: italic;">WHERE</span> empno=<span style="color: #bd93f9; font-weight: bold;">7369</span>
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgf74ecf1" class="outline-3">
<h3 id="orgf74ecf1"><span class="section-number-3">9.5</span> Doble &amp;&amp; para la sustitución de variables</h3>
<div class="outline-text-3" id="text-9-5">
<ul class="org-ul">
<li>Se puede utilizar para la sustitución de variables
<ul class="org-ul">
<li>Solo es una sustitución de un solo uso, después volverá a ser el anterior</li>
</ul></li>
</ul>

<pre class="example" id="orgac45965">
SQL&gt; SELECT empno, ename, job, &amp;&amp;column_name
FROM emp
ORDER BY &amp;colum_name

Enter value for colum_name: deptno

EMPNO ENAME  JOB      DEPTNO
----- ------ -------------- ------
 7839 KING  PRESIDENT         10
 7782 CLARK  MANAGER    10
 7934 MILLER CLERK    10
</pre>
</div>
</div>

<div id="outline-container-orgde6ef29" class="outline-3">
<h3 id="orgde6ef29"><span class="section-number-3">9.6</span> Definiendo variables de usuario</h3>
<div class="outline-text-3" id="text-9-6">
<ul class="org-ul">
<li>Se pueden predefinir variables de usuario antes de ejecutar una sentencia.
<ul class="org-ul">
<li><code>DEFINE variable=value</code> Crea una variable tipo CHAR y le asigna un valor.</li>
<li><code>DEFINE variable</code> Despliega una variable, su valor y su tipo de dato.</li>
<li><code>DEFINE</code> Despliega todas las variables de usuario y su información</li>
<li><code>ACCEPT</code> Lee a una linea de entrada del usuario y almacena la variable.</li>
</ul></li>
</ul>
</div>
<div id="outline-container-org2777a86" class="outline-4">
<h4 id="org2777a86"><span class="section-number-4">9.6.1</span> Comando <code>ACCEPT</code></h4>
<div class="outline-text-4" id="text-9-6-1">
<ul class="org-ul">
<li>Explícitamente define una variable de tipo NUMBER o DATE.</li>
<li>Oculta la entrada del usuario por razones de seguridad.</li>
<li><code>ACCEPT varibale [datatype] [FORMAT format] [PROMPT text] [HIDE]</code>
<ul class="org-ul">
<li>Variable: el nombre de la variable que almacena el valor.</li>
<li>DATATYPE: Puede ser NUMBER, CHAR o DATE.</li>
<li>FORMAT: Especifica el formato, por ejemplo A10, 9,999.</li>
<li>PROMPT: text, es el texto que se despliega antes de que el usuario introduzca el valor.</li>
<li><p>
HIDE: Oculta el valor que introduce el usuario.
</p>

<pre class="example" id="orgb7e13ca">
ACCEPT p_dept PROMPT ‘Provide the department name:’
SELECT *
FROM dept
WHERE dname = UPPER(‘&amp;p_dept’)

Provide the department name: Sales

DEPTNO DNAME LOC
------ ---------- -------
    30 SALES CHICAGO
</pre></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgf4a9b9d" class="outline-4">
<h4 id="orgf4a9b9d"><span class="section-number-4">9.6.2</span> Comandos <code>DEFINE</code> y <code>UNDEFINE</code></h4>
<div class="outline-text-4" id="text-9-6-2">
<ul class="org-ul">
<li>Las variables son definidas hasta que:
<ul class="org-ul">
<li>Se use el comando <code>UNDEFINE</code>.</li>
<li>Salga de SQL*PLUS.</li>
<li>Se modifica el archivo <b>login.sql</b> para que cada variable sea creada al iniciar.</li>

<li>Ejemplo:
<ul class="org-ul">
<li><p>
Se crea una variable para almacenar el nombre del departamento.
</p>

<pre class="example" id="org8a2a333">
    SQL&gt; DEFINE deptname=sales
    SQL&gt; DEFINE deptname
    DEFINE deptname   = “sales”(CHAR)
</pre></li>

<li><p>
Se crea la variable deptname, y la sentencia despliega.
</p>

<pre class="example" id="orge065233">
SQL&gt; SELECT *
FROM dept
WHERE dname = UPPER(‘&amp;deptname’);

DEPTNO DNAME  LOC
------ ------ -------
    30 SALES  CHICAGO
</pre></li>

<li><p>
Para borrar la variable definida, se usa <code>UNDEFINE</code>.
</p>

<pre class="example" id="org62a9e55">
SQL&gt; UNDEFINE deptname
SQL&gt; DEFINE deptname
Symbol deptname is UNDEFINE.
</pre></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgdeaa390" class="outline-3">
<h3 id="orgdeaa390"><span class="section-number-3">9.7</span> Personalizando el ambiente de SQL*PLUS</h3>
<div class="outline-text-3" id="text-9-7">
<ul class="org-ul">
<li>Se usan los comandos <code>SET</code> para controlar la sesión actual.
<ul class="org-ul">
<li><code>SET system_variable value</code></li>
</ul></li>
<li><p>
Se pueden verificar los contenidos de las variables con <code>SHOW</code>.
</p>

<pre class="example" id="org74f80e9">
SQL&gt; SET ECHO ON
SQL&gt; SHOW ECHO
echo ON
</pre></li>

<li>Para poder mostrar todos los valores del comando <code>SET</code> se usa <code>SHOW ALL</code>.</li>
<li>El archivo <b>login.sql</b> contiene todos los comandos SQL y <code>SET</code> con valores standard.</li>
</ul>
</div>
</div>
<div id="outline-container-orge137fd9" class="outline-3">
<h3 id="orge137fd9"><span class="section-number-3">9.8</span> Comandos para dar formato SQL*Plus</h3>
<div class="outline-text-3" id="text-9-8">
<ul class="org-ul">
<li><code>COL[UMN] {clumn option}</code> controla el formato de las columnas.</li>
<li><code>TITI[tle] {text OFF/ON}</code> Especifica un titulo para cada página del reporte.</li>
<li><code>BTI[TLE] {text OFF/ON}</code> Especifica un pie de página para el reporte.</li>
<li><p>
<code>BRE[AK] {ON report_element}</code> Suprime valores duplicados y selecciona filas de datos
con avances de linea.
</p>

<blockquote>
<p>
Todos los comandos de formato siguen teniendo efecto hasta al final de la sesión
</p>
</blockquote></li>
</ul>
</div>

<div id="outline-container-org4510244" class="outline-4">
<h4 id="org4510244"><span class="section-number-4">9.8.1</span> El comando <code>COLUMN</code></h4>
<div class="outline-text-4" id="text-9-8-1">
<p>
Opciones:
</p>
<ul class="org-ul">
<li><code>CLE[AR]</code> Borra el formato de cualquer columna.</li>
<li><code>FOR[MAT] format</code></li>
<li><code>HEA[DING] text</code> Fija el titulo en la columna.</li>
<li><code>JUS[TIFY] {align}</code> Justifica el titulo de la columna ya sea izquierda, centro o derecha.</li>
<li><code>NOPRI[INT]</code> Oculta la columna.</li>
<li><code>NUL[L] text</code> Especifica el texto que se desplegará para los valores <code>NULL</code>.</li>
<li><code>PRI[NT]</code> Muestra la columna.</li>
<li><code>TRU[NCATED]</code> Trunca la secuencia en el extremo de la primera linea del informe.</li>
<li><code>WRA[PED]</code> Cambia el final de la palabra a la siguiente linea.</li>
</ul>

<p>
Para  realizar ajustes actuales para las columnas, se usan:
</p>
<ul class="org-ul">
<li><code>COL[UMN] column</code> Despliega el valor de la columna especificada.</li>
<li><code>COL[UMN]</code> Despliega el valor de todas las columnas.</li>
<li><code>COL[UMN] column CLEAR</code> Quita ajustes para la columna especifica.</li>
<li><code>CLE[AR] COL[UMN]</code> Quita ajustes para todas las columnas.</li>
</ul>
</div>

<ol class="org-ol">
<li><a id="org6aeb053"></a>Ejemplo<br />
<div class="outline-text-5" id="text-9-8-1-1">
<ol class="org-ol">
<li>Crear títulos para las columnas</li>
</ol>

<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">COLUMN</span> ename HEADING &#8216;Employee|<span style="color: #ff79c6; font-style: italic;">Name</span>&#8217; FORMAT A15
<span style="color: #ff79c6; font-style: italic;">COLUMN</span> sal JUSTIFY <span style="color: #ff79c6; font-style: italic;">LEFT</span> FORMAT $<span style="color: #bd93f9; font-weight: bold;">99</span>,<span style="color: #bd93f9; font-weight: bold;">990.00</span>
<span style="color: #ff79c6; font-style: italic;">COLUMN</span> mgr FORMAT <span style="color: #bd93f9; font-weight: bold;">999999999</span> <span style="color: #ff79c6; font-style: italic;">NULL</span> &#8216;<span style="color: #ff79c6; font-style: italic;">No</span> manager&#8217;

<span style="color: #ff79c6; font-style: italic;">Select</span> ename,sal,mgr <span style="color: #ff79c6; font-style: italic;">from</span> emp;

</pre>
</div>

<ol class="org-ol">
<li>Despliega el valor actual para el nombre.</li>
</ol>

<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">COLUMN</span> ename
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org290a674" class="outline-4">
<h4 id="org290a674"><span class="section-number-4">9.8.2</span> Comandos <code>TITLE</code> y <code>BTITLE</code></h4>
<div class="outline-text-4" id="text-9-8-2">
<ul class="org-ul">
<li>Formato para títulos y Pie de página.
<ul class="org-ul">
<li><code>TI[TLE] [text|OFF|ON]</code>.</li>
</ul></li>
<li>Especificar el título del reporte.
<ul class="org-ul">
<li><code>SQL&gt; TTITLE ‘Salary|Report’</code>.</li>
</ul></li>
<li>Especificar el pie de página.
<ul class="org-ul">
<li><code>SQL&gt; BTITLE ‘Confidential’</code>.</li>
</ul></li>
<li>Se usa la <code>|</code> (barra vertical) para separar el titulo en varias lineas.</li>
</ul>
</div>
</div>
<div id="outline-container-org33de02f" class="outline-4">
<h4 id="org33de02f"><span class="section-number-4">9.8.3</span> Comando <code>BREAK</code></h4>
<div class="outline-text-4" id="text-9-8-3">
<ul class="org-ul">
<li>Elimina las filas duplicadas.</li>
<li>Para suprimir los duplicados.
<ul class="org-ul">
<li><code>SQL&gt; BREAK ON ename ON job</code>.</li>
</ul></li>
<li>Para seleccionar un grupo de filas.
<ul class="org-ul">
<li><code>SQL&gt; BREAK ON ename SKIP 4 ON job SKIP 2</code></li>
</ul></li>
<li>se puede usar el comando para seleccionar un grupo de filas y eliminar valores duplicados.</li>
<li>Sintaxis:
<ul class="org-ul">
<li><code>BREAK on column [|alias|row] [skip n|dup|page] on … [on report]</code></li>
<li>Donde:
<ul class="org-ul">
<li><code>page</code> - Cambia a una pagina nueva cuando el valor de <code>BREAK</code> cambia.</li>
<li><code>skip n</code> - Salta n número de llenas cuando el valor de <code>BREAK</code> cambia y puede
ser activado con:
<ul class="org-ul">
<li><code>Column</code>.</li>
<li><code>Row</code>.</li>
<li><code>Page</code>.</li>
<li><code>Report</code>.</li>
</ul></li>
<li><code>Duplicate</code> - Despliega los valores duplicados.</li>
</ul></li>
</ul></li>
<li>Para limpiar todos los valores de <code>BREAK</code> se utiliza el comando <code>CLEAR</code>.</li>
</ul>
</div>
</div>
<div id="outline-container-orgae10444" class="outline-4">
<h4 id="orgae10444"><span class="section-number-4">9.8.4</span> Crear un fichero FLAT (plano)</h4>
<div class="outline-text-4" id="text-9-8-4">
<ul class="org-ul">
<li>Para mover datos entre diverso software a veces es necesario utilizar un archivo FLAT.
<ul class="org-ul">
<li>FLAT = Un archivo sin caracteres de escape, títulos o caracteres adicionales.</li>
</ul></li>
<li><p>
Para lograr un archivo FLAT se utilizan los siguientes <code>SET</code>.
</p>

<div class="org-src-container">
<pre class="src src-sql"><span style="color: #ff79c6; font-style: italic;">SET</span> NEWPAGE <span style="color: #bd93f9; font-weight: bold;">0</span>
<span style="color: #ff79c6; font-style: italic;">SET</span> <span style="color: #ff79c6; font-style: italic;">SPACE</span> <span style="color: #bd93f9; font-weight: bold;">0</span>
<span style="color: #ff79c6; font-style: italic;">SET</span> LINESIZE <span style="color: #bd93f9; font-weight: bold;">80</span>
<span style="color: #ff79c6; font-style: italic;">SET</span> PAGESIZE <span style="color: #bd93f9; font-weight: bold;">0</span>
<span style="color: #ff79c6; font-style: italic;">SET</span> ECHO <span style="color: #ff79c6; font-style: italic;">OFF</span>
<span style="color: #ff79c6; font-style: italic;">SET</span> FEEDBACK <span style="color: #ff79c6; font-style: italic;">OFF</span>
<span style="color: #ff79c6; font-style: italic;">SET</span> HEADING <span style="color: #ff79c6; font-style: italic;">OFF</span>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgd5e0706" class="outline-4">
<h4 id="orgd5e0706"><span class="section-number-4">9.8.5</span> Lineas de comandos SQL*PLUS</h4>
</div>
</div>
</div>
<div id="outline-container-orgfb1017b" class="outline-2">
<h2 id="orgfb1017b"><span class="section-number-2">10</span> Crear y administrar tablas que incluyan <i>constraints</i></h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-orga48b940" class="outline-3">
<h3 id="orga48b940"><span class="section-number-3">10.1</span> Integridad de los datos</h3>
<div class="outline-text-3" id="text-10-1">
<ul class="org-ul">
<li>El objetivo en cuanto integridad es proteger la base de datos contra operaciones
que puedan traer inconsistencias en los datos.</li>
<li>Integridad de datos:
<ul class="org-ul">
<li>Es el grado en el cual los datos son correctos.</li>
<li>Cuando una base de datos contiene errores pierde integridad.</li>
<li>Garantiza que los datos en una base de datos se adhieran a un sistema de reglas predefinidas.</li>
</ul></li>
<li>Reglas de integridad
<ul class="org-ul">
<li>Integridad de la entidad:
<ul class="org-ul">
<li>Mantiene los datos dentro de una entidad.</li>
</ul></li>
<li>Integridad referencial:
<ul class="org-ul">
<li>Mantiene los datos entre tablas.</li>
</ul></li>
<li>integridad de la columna:
<ul class="org-ul">
<li>Valores que contienen constantes el formato de datos definidos.</li>
</ul></li>
<li>Integridad definida por el usuario:
<ul class="org-ul">
<li>Los datos almacenados en la base de datos deben de seguir las reglas de negocios.</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgcde81cd" class="outline-3">
<h3 id="orgcde81cd"><span class="section-number-3">10.2</span> Tipos de integridad</h3>
<div class="outline-text-3" id="text-10-2">
<p>
Las siguientes reglas se aplican a tablas y permiten hacer cumplir diversos tipos de
integridad de datos.
</p>
<ul class="org-ul">
<li><code>NULLs</code>
<ul class="org-ul">
<li>Es una regla definida en una columna que permite que un dato contenga un <code>NULL</code>.</li>
</ul></li>
<li><code>UNIQUE COLUMN VALUES</code>
<ul class="org-ul">
<li>Es una regla definida en una columna que permite que haya una valor único por columna.</li>
</ul></li>
<li><code>PRIMARY KEY VALUES</code>
<ul class="org-ul">
<li>Es una regla definida en una columna  para identificar únicamente a una fila en una tabla.</li>
</ul></li>
<li><code>REFERENCIAL INTEGRITY</code>
<ul class="org-ul">
<li>Es una regla definida en una columna que permite que el <code>insert</code> o el <code>update</code> de
registros para que solamente si el valor de la columna o sistema de columnas empareja
un valor en una columna de una tabla relacionada.</li>
<li>Hay otras reglas que se relacionan con la integridad referencial:
<ul class="org-ul">
<li><code>RESTRICT</code>
<ul class="org-ul">
<li>Regla que rechaza la actualización o eliminación de datos referidos.</li>
</ul></li>
<li><code>SET TO NULL</code>
<ul class="org-ul">
<li>Cuando los datos referidos son actualizados o borrados, todos se fijan a un valor default.</li>
</ul></li>
<li><code>CASCADE</code>
<ul class="org-ul">
<li>Cuando los datos referidos son actualizados,
todos los datos dependientes asociados son correspondientemente actualizados.</li>
</ul></li>
<li><code>COMPLEX INTEGRITY CHEKING</code>
<ul class="org-ul">
<li>Una regla definida por el usuario para una columna que permite <code>inserts</code>,
<code>update</code>, <code>delete</code> de registros basados en el valor que contiene para la columna.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgd0141d4" class="outline-3">
<h3 id="orgd0141d4"><span class="section-number-3">10.3</span> Tipos de constraints</h3>
<div class="outline-text-3" id="text-10-3">
<p>
Oracle soporta los siguientes constraints de integridad:
</p>
<ul class="org-ul">
<li><code>NOT NULL</code>
<ul class="org-ul">
<li>Especifica que una columna no puede contener valores nulos.</li>
</ul></li>
<li><code>UNIQUE</code>
<ul class="org-ul">
<li>Asegura que los valores de una columna no pueden ser iguales.</li>
</ul></li>
<li><code>PRIMARY KEY</code>
<ul class="org-ul">
<li>Asegura que cada registro de la tabla debe contener una entrada que distinga únicamente
a la fila de cualquier otra fila.</li>
</ul></li>
<li><code>FOREGIN KEY</code>
<ul class="org-ul">
<li>Se asegura que cada fila en una tabla pueda tener una relación a los datos en otra tabla.</li>
<li>pag 4</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgc08cf5c" class="outline-3">
<h3 id="orgc08cf5c"><span class="section-number-3">10.4</span> s</h3>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: J.D Castro</p>
<p class="date">Created: 2021-03-09 Tue 20:59</p>
</div>
</body>
</html>
